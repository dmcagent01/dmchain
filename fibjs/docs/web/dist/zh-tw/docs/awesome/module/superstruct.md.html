<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><link rel="icon" type="image/png" href="../../../../imgs/icon.png"><title>Usage - JavaScript on Fiber</title><link href="../../../../css/common.css" rel="stylesheet"><link href="../../../../css/docs.css" rel="stylesheet"></head><body><div class="navbar navbar-default navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toggle navigation</font></font></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="../../../index.html"><img src="../../../../imgs/logo-dark.png"></a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right notranslate"><li><a href="../../../index.html">HOME</a></li><li><a href="../../guide/readme.md.html">GUIDE</a></li><li><a href="../../manual/module/readme.md.html">MODULE</a></li><li><a href="../../manual/object/readme.md.html">OBJECT</a></li><li><a href="../readme.md.html">AWESOME</a></li><li><a href="../../../../download/index.html">DOWNLOAD</a></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">LANGUAGE</a><div class="dropdown-menu"><a href="../../../../docs/awesome/module/superstruct.md.html">中文</a> <a href="../../../../ca/docs/awesome/module/superstruct.md.html">Catalan</a> <a href="../../../../de/docs/awesome/module/superstruct.md.html">Deutsch</a> <a href="../../../../en/docs/awesome/module/superstruct.md.html">English</a> <a href="../../../../es/docs/awesome/module/superstruct.md.html">Español</a> <a href="../../../../fr/docs/awesome/module/superstruct.md.html">Français</a> <a href="../../../../gl/docs/awesome/module/superstruct.md.html">Galego</a> <a href="../../../../it/docs/awesome/module/superstruct.md.html">Italiano</a> <a href="../../../../ru/docs/awesome/module/superstruct.md.html">Русский</a> <a href="../../../../ja/docs/awesome/module/superstruct.md.html">日本語</a> <a href="../../../../ko/docs/awesome/module/superstruct.md.html">한국어</a> <a href="../../../../zh-tw/docs/awesome/module/superstruct.md.html">繁體中文</a></div></li></ul></div></div></div><div class="band"><div class="container"><span class="group"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Awesome 社區模塊</font></font></span><div class="search"><span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"><input type="text" class="searchbox ds-input" placeholder="Search" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="search input" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="position: relative; vertical-align: top;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Avenir, &quot;Segoe UI&quot;, Arial, &quot;Hiragino Sans GB&quot;, 冬青黑, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Helvetica, Tahoma, &quot;Arial sans-serif&quot;; font-size: 16px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;"><div class="ds-dataset-1"></div></span></span></div></div></div><div class="container"><ol class="breadcrumb"><li><a href="../../../index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首頁</font></font></a></li><li><a href="../readme.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">社區模塊</font></font></a></li><li class="active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usage</font></font></li></ol></div><div class="page-body"><div class="container"><div class="sidebar hidden-xs"><div class="panel-group" id="accordion" role="tablist">  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_guide" aria-controls="collapse_guide"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開髮指南</font></font></a></h4></div><div id="collapse_guide" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../guide/about.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fibjs 是什麼？</font></font></a></li>
<li><a href="../../guide/install.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安裝運行環境</font></font></a></li>
<li><a href="../../guide/hello.md.html" class="notranslate">hello, world</a></li>
<li><a href="../../guide/test.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">美好生活從測試開始</font></font></a></li>
<li><a href="../../guide/profiler.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找出性能殺手</font></font></a></li>
<li><a href="../../guide/server-hot-update.md.html">服务端模块热更新</a></li>
<li><a href="../../guide/host-routes.md.html">域名路由</a></li>
<li><a href="../../guide/x509.md.html">fibjs 中 X509 证书的使用</a></li>
<li><a href="../../guide/contribute.md.html">添加 native 模块</a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_module" aria-controls="collapse_module"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基礎模塊</font></font></a></h4></div><div id="collapse_module" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../manual/module/ifs/assert.md.html" class="notranslate">assert</a></li>
<li><a href="../../manual/module/ifs/base32.md.html" class="notranslate">base32</a></li>
<li><a href="../../manual/module/ifs/base58.md.html" class="notranslate">base58</a></li>
<li><a href="../../manual/module/ifs/base64.md.html" class="notranslate">base64</a></li>
<li><a href="../../manual/module/ifs/child_process.md.html" class="notranslate">child_process</a></li>
<li><a href="../../manual/module/ifs/console.md.html" class="notranslate">console</a></li>
<li><a href="../../manual/module/ifs/constants.md.html" class="notranslate">constants</a></li>
<li><a href="../../manual/module/ifs/coroutine.md.html" class="notranslate">coroutine</a></li>
<li><a href="../../manual/module/ifs/crypto.md.html" class="notranslate">crypto</a></li>
<li><a href="../../manual/module/ifs/db.md.html" class="notranslate">db</a></li>
<li><a href="../../manual/module/ifs/dgram.md.html" class="notranslate">dgram</a></li>
<li><a href="../../manual/module/ifs/dns.md.html" class="notranslate">dns</a></li>
<li><a href="../../manual/module/ifs/encoding.md.html" class="notranslate">encoding</a></li>
<li><a href="../../manual/module/ifs/fs.md.html" class="notranslate">fs</a></li>
<li><a href="../../manual/module/ifs/fs_constants.md.html" class="notranslate">fs_constants</a></li>
<li><a href="../../manual/module/ifs/gd.md.html" class="notranslate">gd</a></li>
<li><a href="../../manual/module/ifs/global.md.html" class="notranslate">global</a></li>
<li><a href="../../manual/module/ifs/gui.md.html" class="notranslate">gui</a></li>
<li><a href="../../manual/module/ifs/hash.md.html" class="notranslate">hash</a></li>
<li><a href="../../manual/module/ifs/hex.md.html" class="notranslate">hex</a></li>
<li><a href="../../manual/module/ifs/http.md.html" class="notranslate">http</a></li>
<li><a href="../../manual/module/ifs/iconv.md.html" class="notranslate">iconv</a></li>
<li><a href="../../manual/module/ifs/io.md.html" class="notranslate">io</a></li>
<li><a href="../../manual/module/ifs/json.md.html" class="notranslate">json</a></li>
<li><a href="../../manual/module/ifs/mq.md.html" class="notranslate">mq</a></li>
<li><a href="../../manual/module/ifs/msgpack.md.html" class="notranslate">msgpack</a></li>
<li><a href="../../manual/module/ifs/multibase.md.html" class="notranslate">multibase</a></li>
<li><a href="../../manual/module/ifs/net.md.html" class="notranslate">net</a></li>
<li><a href="../../manual/module/ifs/os.md.html" class="notranslate">os</a></li>
<li><a href="../../manual/module/ifs/path.md.html" class="notranslate">path</a></li>
<li><a href="../../manual/module/ifs/path_posix.md.html" class="notranslate">path_posix</a></li>
<li><a href="../../manual/module/ifs/path_win32.md.html" class="notranslate">path_win32</a></li>
<li><a href="../../manual/module/ifs/perf_hooks.md.html" class="notranslate">perf_hooks</a></li>
<li><a href="../../manual/module/ifs/performance.md.html" class="notranslate">performance</a></li>
<li><a href="../../manual/module/ifs/process.md.html" class="notranslate">process</a></li>
<li><a href="../../manual/module/ifs/profiler.md.html" class="notranslate">profiler</a></li>
<li><a href="../../manual/module/ifs/punycode.md.html" class="notranslate">punycode</a></li>
<li><a href="../../manual/module/ifs/querystring.md.html" class="notranslate">querystring</a></li>
<li><a href="../../manual/module/ifs/registry.md.html" class="notranslate">registry</a></li>
<li><a href="../../manual/module/ifs/ssl.md.html" class="notranslate">ssl</a></li>
<li><a href="../../manual/module/ifs/string_decoder.md.html" class="notranslate">string_decoder</a></li>
<li><a href="../../manual/module/ifs/test.md.html" class="notranslate">test</a></li>
<li><a href="../../manual/module/ifs/timers.md.html" class="notranslate">timers</a></li>
<li><a href="../../manual/module/ifs/tty.md.html" class="notranslate">tty</a></li>
<li><a href="../../manual/module/ifs/url.md.html" class="notranslate">url</a></li>
<li><a href="../../manual/module/ifs/util.md.html" class="notranslate">util</a></li>
<li><a href="../../manual/module/ifs/uuid.md.html" class="notranslate">uuid</a></li>
<li><a href="../../manual/module/ifs/vm.md.html" class="notranslate">vm</a></li>
<li><a href="../../manual/module/ifs/worker_threads.md.html" class="notranslate">worker_threads</a></li>
<li><a href="../../manual/module/ifs/ws.md.html" class="notranslate">ws</a></li>
<li><a href="../../manual/module/ifs/xml.md.html" class="notranslate">xml</a></li>
<li><a href="../../manual/module/ifs/zip.md.html" class="notranslate">zip</a></li>
<li><a href="../../manual/module/ifs/zlib.md.html" class="notranslate">zlib</a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_object" aria-controls="collapse_object"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">內置對象</font></font></a></h4></div><div id="collapse_object" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../manual/object/ifs/buffer.md.html" class="notranslate">Buffer</a></li>
<li><a href="../../manual/object/ifs/bufferedstream.md.html" class="notranslate">BufferedStream</a></li>
<li><a href="../../manual/object/ifs/chain.md.html" class="notranslate">Chain</a></li>
<li><a href="../../manual/object/ifs/childprocess.md.html" class="notranslate">ChildProcess</a></li>
<li><a href="../../manual/object/ifs/cipher.md.html" class="notranslate">Cipher</a></li>
<li><a href="../../manual/object/ifs/condition.md.html" class="notranslate">Condition</a></li>
<li><a href="../../manual/object/ifs/dbconnection.md.html" class="notranslate">DbConnection</a></li>
<li><a href="../../manual/object/ifs/dgramsocket.md.html" class="notranslate">DgramSocket</a></li>
<li><a href="../../manual/object/ifs/digest.md.html" class="notranslate">Digest</a></li>
<li><a href="../../manual/object/ifs/event.md.html" class="notranslate">Event</a></li>
<li><a href="../../manual/object/ifs/eventemitter.md.html" class="notranslate">EventEmitter</a></li>
<li><a href="../../manual/object/ifs/fswatcher.md.html" class="notranslate">FSWatcher</a></li>
<li><a href="../../manual/object/ifs/fiber.md.html" class="notranslate">Fiber</a></li>
<li><a href="../../manual/object/ifs/file.md.html" class="notranslate">File</a></li>
<li><a href="../../manual/object/ifs/handler.md.html" class="notranslate">Handler</a></li>
<li><a href="../../manual/object/ifs/heapgraphedge.md.html" class="notranslate">HeapGraphEdge</a></li>
<li><a href="../../manual/object/ifs/heapgraphnode.md.html" class="notranslate">HeapGraphNode</a></li>
<li><a href="../../manual/object/ifs/heapsnapshot.md.html" class="notranslate">HeapSnapshot</a></li>
<li><a href="../../manual/object/ifs/httpclient.md.html" class="notranslate">HttpClient</a></li>
<li><a href="../../manual/object/ifs/httpcollection.md.html" class="notranslate">HttpCollection</a></li>
<li><a href="../../manual/object/ifs/httpcookie.md.html" class="notranslate">HttpCookie</a></li>
<li><a href="../../manual/object/ifs/httphandler.md.html" class="notranslate">HttpHandler</a></li>
<li><a href="../../manual/object/ifs/httpmessage.md.html" class="notranslate">HttpMessage</a></li>
<li><a href="../../manual/object/ifs/httprepeater.md.html" class="notranslate">HttpRepeater</a></li>
<li><a href="../../manual/object/ifs/httprequest.md.html" class="notranslate">HttpRequest</a></li>
<li><a href="../../manual/object/ifs/httpresponse.md.html" class="notranslate">HttpResponse</a></li>
<li><a href="../../manual/object/ifs/httpserver.md.html" class="notranslate">HttpServer</a></li>
<li><a href="../../manual/object/ifs/httpuploaddata.md.html" class="notranslate">HttpUploadData</a></li>
<li><a href="../../manual/object/ifs/httpsserver.md.html" class="notranslate">HttpsServer</a></li>
<li><a href="../../manual/object/ifs/image.md.html" class="notranslate">Image</a></li>
<li><a href="../../manual/object/ifs/iterator.md.html" class="notranslate">Iterator</a></li>
<li><a href="../../manual/object/ifs/leveldb.md.html" class="notranslate">LevelDB</a></li>
<li><a href="../../manual/object/ifs/lock.md.html" class="notranslate">Lock</a></li>
<li><a href="../../manual/object/ifs/lrucache.md.html" class="notranslate">LruCache</a></li>
<li><a href="../../manual/object/ifs/memorystream.md.html" class="notranslate">MemoryStream</a></li>
<li><a href="../../manual/object/ifs/message.md.html" class="notranslate">Message</a></li>
<li><a href="../../manual/object/ifs/mongocollection.md.html" class="notranslate">MongoCollection</a></li>
<li><a href="../../manual/object/ifs/mongocursor.md.html" class="notranslate">MongoCursor</a></li>
<li><a href="../../manual/object/ifs/mongodb.md.html" class="notranslate">MongoDB</a></li>
<li><a href="../../manual/object/ifs/mongoid.md.html" class="notranslate">MongoID</a></li>
<li><a href="../../manual/object/ifs/mysql.md.html" class="notranslate">MySQL</a></li>
<li><a href="../../manual/object/ifs/odbc.md.html" class="notranslate">Odbc</a></li>
<li><a href="../../manual/object/ifs/pkey.md.html" class="notranslate">PKey</a></li>
<li><a href="../../manual/object/ifs/rangestream.md.html" class="notranslate">RangeStream</a></li>
<li><a href="../../manual/object/ifs/redis.md.html" class="notranslate">Redis</a></li>
<li><a href="../../manual/object/ifs/redishash.md.html" class="notranslate">RedisHash</a></li>
<li><a href="../../manual/object/ifs/redislist.md.html" class="notranslate">RedisList</a></li>
<li><a href="../../manual/object/ifs/redisset.md.html" class="notranslate">RedisSet</a></li>
<li><a href="../../manual/object/ifs/redissortedset.md.html" class="notranslate">RedisSortedSet</a></li>
<li><a href="../../manual/object/ifs/routing.md.html" class="notranslate">Routing</a></li>
<li><a href="../../manual/object/ifs/sqlite.md.html" class="notranslate">SQLite</a></li>
<li><a href="../../manual/object/ifs/sandbox.md.html" class="notranslate">SandBox</a></li>
<li><a href="../../manual/object/ifs/seekablestream.md.html" class="notranslate">SeekableStream</a></li>
<li><a href="../../manual/object/ifs/semaphore.md.html" class="notranslate">Semaphore</a></li>
<li><a href="../../manual/object/ifs/service.md.html" class="notranslate">Service</a></li>
<li><a href="../../manual/object/ifs/smtp.md.html" class="notranslate">Smtp</a></li>
<li><a href="../../manual/object/ifs/socket.md.html" class="notranslate">Socket</a></li>
<li><a href="../../manual/object/ifs/sslhandler.md.html" class="notranslate">SslHandler</a></li>
<li><a href="../../manual/object/ifs/sslserver.md.html" class="notranslate">SslServer</a></li>
<li><a href="../../manual/object/ifs/sslsocket.md.html" class="notranslate">SslSocket</a></li>
<li><a href="../../manual/object/ifs/stat.md.html" class="notranslate">Stat</a></li>
<li><a href="../../manual/object/ifs/statswatcher.md.html" class="notranslate">StatsWatcher</a></li>
<li><a href="../../manual/object/ifs/stream.md.html" class="notranslate">Stream</a></li>
<li><a href="../../manual/object/ifs/stringdecoder.md.html" class="notranslate">StringDecoder</a></li>
<li><a href="../../manual/object/ifs/ttyinputstream.md.html" class="notranslate">TTYInputStream</a></li>
<li><a href="../../manual/object/ifs/ttyoutputstream.md.html" class="notranslate">TTYOutputStream</a></li>
<li><a href="../../manual/object/ifs/tcpserver.md.html" class="notranslate">TcpServer</a></li>
<li><a href="../../manual/object/ifs/textdecoder.md.html" class="notranslate">TextDecoder</a></li>
<li><a href="../../manual/object/ifs/textencoder.md.html" class="notranslate">TextEncoder</a></li>
<li><a href="../../manual/object/ifs/timer.md.html" class="notranslate">Timer</a></li>
<li><a href="../../manual/object/ifs/urlobject.md.html" class="notranslate">UrlObject</a></li>
<li><a href="../../manual/object/ifs/websocket.md.html" class="notranslate">WebSocket</a></li>
<li><a href="../../manual/object/ifs/websocketmessage.md.html" class="notranslate">WebSocketMessage</a></li>
<li><a href="../../manual/object/ifs/webview.md.html" class="notranslate">WebView</a></li>
<li><a href="../../manual/object/ifs/worker.md.html" class="notranslate">Worker</a></li>
<li><a href="../../manual/object/ifs/x509cert.md.html" class="notranslate">X509Cert</a></li>
<li><a href="../../manual/object/ifs/x509crl.md.html" class="notranslate">X509Crl</a></li>
<li><a href="../../manual/object/ifs/x509req.md.html" class="notranslate">X509Req</a></li>
<li><a href="../../manual/object/ifs/xmlattr.md.html" class="notranslate">XmlAttr</a></li>
<li><a href="../../manual/object/ifs/xmlcdatasection.md.html" class="notranslate">XmlCDATASection</a></li>
<li><a href="../../manual/object/ifs/xmlcharacterdata.md.html" class="notranslate">XmlCharacterData</a></li>
<li><a href="../../manual/object/ifs/xmlcomment.md.html" class="notranslate">XmlComment</a></li>
<li><a href="../../manual/object/ifs/xmldocument.md.html" class="notranslate">XmlDocument</a></li>
<li><a href="../../manual/object/ifs/xmldocumenttype.md.html" class="notranslate">XmlDocumentType</a></li>
<li><a href="../../manual/object/ifs/xmlelement.md.html" class="notranslate">XmlElement</a></li>
<li><a href="../../manual/object/ifs/xmlnamednodemap.md.html" class="notranslate">XmlNamedNodeMap</a></li>
<li><a href="../../manual/object/ifs/xmlnode.md.html" class="notranslate">XmlNode</a></li>
<li><a href="../../manual/object/ifs/xmlnodelist.md.html" class="notranslate">XmlNodeList</a></li>
<li><a href="../../manual/object/ifs/xmlprocessinginstruction.md.html" class="notranslate">XmlProcessingInstruction</a></li>
<li><a href="../../manual/object/ifs/xmltext.md.html" class="notranslate">XmlText</a></li>
<li><a href="../../manual/object/ifs/zipfile.md.html" class="notranslate">ZipFile</a></li>
<li><a href="../../manual/object/ifs/object.md.html" class="notranslate">object</a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_awesome" aria-controls="collapse_awesome"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">社區模塊</font></font></a></h4></div><div id="collapse_awesome" class="panel-collapse collapse in" aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="fib-session.md.html" class="notranslate">fib-session</a></li>
<li><a href="fib-pool.md.html" class="notranslate">fib-pool</a></li>
<li><a href="fib-orm.md.html" class="notranslate">fib-orm</a></li>
<li><a href="fib-app.md.html" class="notranslate">fib-app</a></li>
<li><a href="fib-kv.md.html" class="notranslate">fib-kv</a></li>
<li><a href="fib-rpc.md.html" class="notranslate">fib-rpc</a></li>
<li><a href="fib-qr.md.html" class="notranslate">fib-qr</a></li>
<li><a href="fib-pug.md.html" class="notranslate">fib-pug</a></li>
<li><a href="ejs.md.html" class="notranslate">ejs</a></li>
<li><a href="juicer.md.html" class="notranslate">Juicer</a></li>
<li><a href="highlight.js.md.html" class="notranslate">highlight.js</a></li>
<li><a href="marked.md.html" class="notranslate">marked</a></li>
<li><a href="node-cron.md.html" class="notranslate">node-cron</a></li>
<li><a href="debug.md.html" class="notranslate">debug</a></li>
<li><a href="benchmark.js.md.html" class="notranslate">benchmark.js</a></li>
<li><a href="sinon.md.html" class="notranslate">sinon</a></li>
<li><a href="node-mime.md.html" class="notranslate">node-mime</a></li>
<li><a href="validatorjs.md.html" class="notranslate">validatorjs</a></li>
<li class="active"><a href="superstruct.md.html" class="notranslate">superstruct</a></li>
<li><a href="cluster-server.md.html" class="notranslate">cluster-server</a></li>
<li><a href="synaptic.md.html" class="notranslate">synaptic</a></li>
<li><a href="source-map.md.html" class="notranslate">source-map</a></li>
<li><a href="json-format.md.html" class="notranslate">json-format</a></li>
<li><a href="viz.js.md.html" class="notranslate">viz.js</a></li>
<li><a href="nomnoml.md.html" class="notranslate">nomnoml</a></li>
<li><a href="pegjs.md.html" class="notranslate">pegjs</a></li>
<li><a href="uglify-js.md.html" class="notranslate">uglify-js</a></li>
<li><a href="js-beautify.md.html" class="notranslate">js-beautify</a></li>
<li><a href="chalk-animation.md.html" class="notranslate">chalk-animation</a></li>
<li><a href="jsrsasign.md.html" class="notranslate">jsrsasign</a></li>
<li><a href="crypto-js.md.html" class="notranslate">crypto-js</a></li>
<li><a href="ascii-table.md.html" class="notranslate">ascii-table</a></li>
<li><a href="logstream.md.html" class="notranslate">logstream</a></li>
<li><a href="ci.md.html" class="notranslate">ci</a></li>
<li><a href="fs-readdir-recursive.md.html" class="notranslate">fs-readdir-recursive</a></li>
<li><a href="mkdirp.md.html" class="notranslate">mkdirp</a></li>
<li><a href="rmdirr.md.html" class="notranslate">rmdirr</a></li>
<li><a href="detect-port.md.html" class="notranslate">detect-port</a></li>
<li><a href="bitcoinjs-lib.md.html" class="notranslate">bitcoinjs-lib</a></li>
<li><a href="rakuten.md.html" class="notranslate">Rakuten</a></li>
</ul>
 </div></div></div>  </div></div><div class="content"><div class="social-share share-component" data-sites="weibo,twitter" data-description="分享"></div> <p align="center">
  <a href="#"><img src="./docs/images/banner.png"></a>
</p>

<p align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  A simple and composable way   </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  to validate data in JavaScript.
</font></font></p>
<br>
<br>

<p align="center">
  <a href="#usage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> •
   </font></font><a href="#why"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> •
   </font></font><a href="#principles"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Principles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> •
   </font></font><a href="#demo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> •
   </font></font><a href="#examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> •
   </font></font><a href="#documentation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation</font></font></a>
</p>

<p align="center">
  <a href="https://travis-ci.org/ianstormtaylor/superstruct">
    <img src="https://travis-ci.org/ianstormtaylor/superstruct.svg?branch=master">
  </a>
  <a href="https://unpkg.com/superstruct/umd/superstruct.min.js">
    <img src="http://img.badgesize.io/https://unpkg.com/superstruct/umd/superstruct.min.js?compression=gzip&amp;label=size&amp;maxAge=300">
  </a>
  <a href="./package.json">
    <img src="https://img.shields.io/npm/v/superstruct.svg?maxAge=300&amp;label=version&amp;colorB=007ec6&amp;maxAge=300">
  </a>
  <a href="license.md.html">
    <img src="https://img.shields.io/npm/l/slate.svg?maxAge=300">
  </a>
</p>

<p><br>
<br></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Superstruct makes it easy to define interfaces and then validate JavaScript data against them. Its type annotation API was inspired by </font></font><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Typescript</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://flow.org/en/docs/types/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://gobyexample.com/structs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and </font></font><a href="http://graphql.org/learn/schema/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GraphQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , giving it a familiar and easy to understand API.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But Superstruct is designed for validating data at runtime, so it throws (or returns) detailed runtime errors for you or your end users. This is especially useful in situations like accepting arbitrary input in a REST or GraphQL API. But it can even be used to validate internal data structures at runtime when needed.</font></font></p>
<p><br></p>
<h3 id="Usage" class="notranslate">Usage</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Superstruct exports a </font></font><code>struct</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">factory for creating structs that can validate data against a specific schema:</font></font></p>
<pre><code class="lang-js"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</div><span class="hljs-keyword">import</span> { struct } <span class="hljs-keyword">from</span> <span class="hljs-string">'superstruct'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> Article = struct({
  <span class="hljs-attr">id</span>: <span class="hljs-string">'number'</span>,
  <span class="hljs-attr">title</span>: <span class="hljs-string">'string'</span>,
  <span class="hljs-attr">is_published</span>: <span class="hljs-string">'boolean?'</span>,
  <span class="hljs-attr">tags</span>: [<span class="hljs-string">'string'</span>],
  <span class="hljs-attr">author</span>: {
    <span class="hljs-attr">id</span>: <span class="hljs-string">'number'</span>,<font></font>
  },<font></font>
})<font></font>
<font></font>
<span class="hljs-keyword">const</span> data = {
  <span class="hljs-attr">id</span>: <span class="hljs-number">34</span>,
  <span class="hljs-attr">title</span>: <span class="hljs-string">'Hello World'</span>,
  <span class="hljs-attr">tags</span>: [<span class="hljs-string">'news'</span>, <span class="hljs-string">'features'</span>],
  <span class="hljs-attr">author</span>: {
    <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<font></font>
  },<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> article = Article(data)<font></font>
<font></font>
<span class="hljs-comment">// This will throw when the data is invalid, and return the data otherwise.</span>
<span class="hljs-comment">// If you'd rather not throw, use `Struct.validate()` or `Struct.test()`.</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It recognizes all the native JavaScript types out of the box. But you can also define your own custom data types—specific to your application's requirements—by using the </font></font><code>superstruct</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">export:</font></font></p>
<pre><code class="lang-js"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</div><span class="hljs-keyword">import</span> { superstruct } <span class="hljs-keyword">from</span> <span class="hljs-string">'superstruct'</span>
<span class="hljs-keyword">import</span> isUuid <span class="hljs-keyword">from</span> <span class="hljs-string">'is-uuid'</span>
<span class="hljs-keyword">import</span> isEmail <span class="hljs-keyword">from</span> <span class="hljs-string">'is-email'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> struct = superstruct({
  <span class="hljs-attr">types</span>: {
    <span class="hljs-attr">uuid</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> isUuid.v4(value),
    <span class="hljs-attr">email</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> isEmail(value) &amp;&amp; value.length &lt; <span class="hljs-number">256</span>,<font></font>
  },<font></font>
})<font></font>
<font></font>
<span class="hljs-keyword">const</span> User = struct({
  <span class="hljs-attr">id</span>: <span class="hljs-string">'uuid'</span>,
  <span class="hljs-attr">email</span>: <span class="hljs-string">'email'</span>,
  <span class="hljs-attr">is_admin</span>: <span class="hljs-string">'boolean?'</span>,<font></font>
})<font></font>
<font></font>
<span class="hljs-keyword">const</span> data = {
  <span class="hljs-attr">id</span>: <span class="hljs-string">'c8d63140-a1f7-45e0-bfc6-df72973fea86'</span>,
  <span class="hljs-attr">email</span>: <span class="hljs-string">'jane@example.com'</span>,<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> user = User(data)
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Superstruct supports more complex use cases too like defining list or scalar structs, applying default values, composing structs inside each other, returning errors instead of throwing them, etc. For more information read the full </font></font><a href="#documentation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
<p><br></p>
<h3 id="Why?" class="notranslate">Why?</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There are lots of existing validation libraries— </font></font><a href="https://github.com/hapijs/joi"><code>joi</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://github.com/ctavan/express-validator"><code>express-validator</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://github.com/chriso/validator.js"><code>validator.js</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://github.com/jquense/yup"><code>yup</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://github.com/epoberezkin/ajv"><code>ajv</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://github.com/mafintosh/is-my-json-valid"><code>is-my-json-valid</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... But they exhibit many issues that lead to your codebase becoming hard to maintain...</font></font></p>
<ul>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They don't expose detailed errors.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Many validators simply return string-only errors or booleans without any details as to why, making it difficult to customize the errors to be helpful for end-users.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They make custom types hard.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Many validators ship with built-in types like emails, URLs, UUIDs, etc. with no way to know what they check for, and complicated APIs for defining new types.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They don't encourage single sources of truth.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Many existing APIs encourage re-defining custom data types over and over, with the source of truth being spread out across your entire code base.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They don't throw errors.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Many don't actually throw the errors, forcing you to wrap everywhere. Although helpful in the days of callbacks, not using </font></font><code>throw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in modern JavaScript makes code much more complex.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They don't pre-compile schemas.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Many validators define schemas as plain JavaScript objects, which means they delegate the parsing of the schema logic to validation time, making them much slower.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They're tightly coupled to other concerns.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Many validators are tightly coupled to Express or other frameworks, which results in one-off, confusing code that isn't reusable across your code base.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They use JSON Schema.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Don't get me wrong, JSON Schema </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> be useful. But it's kind of like HATEOAS—it's usually way more complexity than you need and you aren't using any of its benefits. (Sorry, I said it.)</font></font></p>
</li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, not every validation library suffers from all of these issues, but most of them exhibit at least one. If you've run into this problem before, you might like Superstruct.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Which brings me to how Superstruct solves these issues...</font></font></p>
<p><br></p>
<h3 id="Principles" class="notranslate">Principles</h3>
<ol>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Customizable types.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Superstruct's power is in making it easy to define an entire set of custom data types that are specific to your application, and defined in a </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">single</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> place, so you have full control over your requirements.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unopinionated defaults.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Superstruct ships with native JavaScript types, and everything else is customizable, so you never have to fight to override decisions made by "core" that differ from your application's needs.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Composable interfaces.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Superstruct interfaces are composable, so you can break down commonly-repeated pieces of data into components, and compose them to build up the more complex objects.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terse schemas.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The schemas in Superstruct are designed to be extremely terse and expressive. This makes them very easy to read and write, encouraging you to have full data validation coverage.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compiled validators.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Superstruct does the work of compiling its schemas up front, so that it doesn't spend time performing expensive tasks for every call to the validation functions in your hot code paths.</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Useful errors.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The errors that Superstruct throws contain all the information you need to convert them into your own application-specific errors easy, which means more helpful errors for your end users!</font></font></p>
</li>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Familiar API.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The Superstruct API was heavily inspired by </font></font><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Typescript</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://flow.org/en/docs/types/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://gobyexample.com/structs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and </font></font><a href="http://graphql.org/learn/schema/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GraphQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . If you're familiar with any of those, then its schema definition API will feel very natural to use, so you can get started quickly.</font></font></p>
</li>
</ol>
<p><br></p>
<h3 id="Demo" class="notranslate">Demo</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Try out the </font></font><a href="https://jsfiddle.net/yjugaeg8/2/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">live demo on JSFiddle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to get an idea for how the API works, or to quickly verify your use case:</font></font></p>
<p><a href="https://jsfiddle.net/yjugaeg8/2/"><img src="./docs/images/demo-screenshot.png" alt="Demo screenshot."></a></p>
<p><br></p>
<h3 id="Examples" class="notranslate">Examples</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Superstruct's API is very flexible, allowing it to be used for a variety of use cases on your servers and in the browser. Here are a few examples of common patterns...</font></font></p>
<ul>
<li><a href="./examples/basic-validation.js"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basic Validation</font></font></a></li>
<li><a href="./examples/custom-types.js"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Custom Types</font></font></a></li>
<li><a href="./examples/default-values.js"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Default Values</font></font></a></li>
<li><a href="./examples/optional-values.js"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optional Values</font></font></a></li>
<li><a href="./examples/composing-structs.js"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Composing Structs</font></font></a></li>
<li><a href="./examples/throwing-errors.js"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Throwing Errors</font></font></a></li>
<li><a href="./examples/returning-errors.js"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Returning Errors</font></font></a></li>
<li><a href="./examples/custom-errors.js"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Custom Errors</font></font></a></li>
</ul>
<p><br></p>
<h3 id="Documentation" class="notranslate">Documentation</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Read the getting started guide to familiarize yourself with how Superstruct works. After that, check out the full API reference for more detailed information about structs, types and errors...</font></font></p>
<ul>
<li><a href="docs/guide.md.html"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guide</font></font></strong></a><ul>
<li><a href="./docs/guide.md#installing-superstruct"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installing Superstruct</font></font></a></li>
<li><a href="./docs/guide.md#creating-structs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creating Structs</font></font></a></li>
<li><a href="./docs/guide.md#defining-custom-data-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Defining Custom Data Types</font></font></a></li>
<li><a href="./docs/guide.md#setting-default-values"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setting Default Values</font></font></a></li>
<li><a href="./docs/guide.md#throwing-customized-errors"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Throwing Customized Errors</font></font></a></li>
<li><a href="./docs/guide.md#validating-complex-shapes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validating Complex Shapes</font></font></a></li>
<li><a href="./docs/guide.md#composing-structs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Composing Structs</font></font></a></li>
</ul>
</li>
<li><a href="docs/reference.md.html"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reference</font></font></strong></a><ul>
<li><a href="docs/reference.md.html#api" class="notranslate">API</a></li>
<li><a href="docs/reference.md.html#structs" class="notranslate">Structs</a></li>
<li><a href="docs/reference.md.html#types" class="notranslate">Types</a></li>
<li><a href="docs/reference.md.html#errors" class="notranslate">Errors</a></li>
</ul>
</li>
<li><a href="docs/resources.md.html"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resources</font></font></strong></a></li>
</ul>
<p><br></p>
<h3 id="License" class="notranslate">License</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This package is</font></font><a href="license.md.html" class="notranslate">MIT-licensed</a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
 </div><div class="sidebar hidden-sm hidden-xs hidden-md"><div id="toc" class="tocify-hide"></div></div></div></div><div class="footer"><div class="container"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">© Copyright 2012-2021 fibjs.org |</font></font><a href="../../../support.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持我們</font></font></a></div></div><a id="back-to-top" href="#" class="btn btn-default btn-lg back-to-top" role="button" title="" data-toggle="tooltip" data-placement="left" data-original-title="Click to return on the top page" aria-describedby="tooltip105689"><span class="glyphicon glyphicon-chevron-up"></span></a><div class="tooltip fade left in" role="tooltip" id="tooltip105689" style="top: 0px; left: -190px; display: block;"><div class="tooltip-arrow" style="top: 0%;"></div><div class="tooltip-inner"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Click to return on the top page</font></font></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript" src="../../../../js/common.js"></script><script type="text/javascript" src="../../../../js/docs.js"></script></body></html>