<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><link rel="icon" type="image/png" href="../../../../imgs/icon.png"><title>UglifyJS 3 - JavaScript a la fibra</title><link href="../../../../css/common.css" rel="stylesheet"><link href="../../../../css/docs.css" rel="stylesheet"></head><body><div class="navbar navbar-default navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canvia la navegació</font></font></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="../../../index.html"><img src="../../../../imgs/logo-dark.png"></a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right notranslate"><li><a href="../../../index.html">HOME</a></li><li><a href="../../guide/readme.md.html">GUIDE</a></li><li><a href="../../manual/module/readme.md.html">MODULE</a></li><li><a href="../../manual/object/readme.md.html">OBJECT</a></li><li><a href="../readme.md.html">AWESOME</a></li><li><a href="../../../../download/index.html">DOWNLOAD</a></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">LANGUAGE</a><div class="dropdown-menu"><a href="../../../../docs/awesome/module/uglify-js.md.html">中文</a> <a href="../../../../ca/docs/awesome/module/uglify-js.md.html">Catalan</a> <a href="../../../../de/docs/awesome/module/uglify-js.md.html">Deutsch</a> <a href="../../../../en/docs/awesome/module/uglify-js.md.html">English</a> <a href="../../../../es/docs/awesome/module/uglify-js.md.html">Español</a> <a href="../../../../fr/docs/awesome/module/uglify-js.md.html">Français</a> <a href="../../../../gl/docs/awesome/module/uglify-js.md.html">Galego</a> <a href="../../../../it/docs/awesome/module/uglify-js.md.html">Italiano</a> <a href="../../../../ru/docs/awesome/module/uglify-js.md.html">Русский</a> <a href="../../../../ja/docs/awesome/module/uglify-js.md.html">日本語</a> <a href="../../../../ko/docs/awesome/module/uglify-js.md.html">한국어</a> <a href="../../../../zh-tw/docs/awesome/module/uglify-js.md.html">繁體中文</a></div></li></ul></div></div></div><div class="band"><div class="container"><span class="group"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mòdul comunitari fantàstic</font></font></span><div class="search"><span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"><input type="text" class="searchbox ds-input" placeholder="Cerca" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="entrada de cerca" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="position: relative; vertical-align: top;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Avenir, &quot;Segoe UI&quot;, Arial, &quot;Hiragino Sans GB&quot;, 冬青黑, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Helvetica, Tahoma, &quot;Arial sans-serif&quot;; font-size: 16px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;"><div class="ds-dataset-1"></div></span></span></div></div></div><div class="container"><ol class="breadcrumb"><li><a href="../../../index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">portada</font></font></a></li><li><a href="../readme.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mòdul comunitari</font></font></a></li><li class="active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS 3</font></font></li></ol></div><div class="page-body"><div class="container"><div class="sidebar hidden-xs"><div class="panel-group" id="accordion" role="tablist">  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_guide" aria-controls="collapse_guide"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guia de desenvolupament</font></font></a></h4></div><div id="collapse_guide" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../guide/about.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Què és fibjs?</font></font></a></li>
<li><a href="../../guide/install.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal·leu l'entorn d'execució</font></font></a></li>
<li><a href="../../guide/hello.md.html" class="notranslate">hello, world</a></li>
<li><a href="../../guide/test.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una bona vida comença amb una prova</font></font></a></li>
<li><a href="../../guide/profiler.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Troba l'assassí del rendiment</font></font></a></li>
<li><a href="../../guide/server-hot-update.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actualització en calent del mòdul del servidor</font></font></a></li>
<li><a href="../../guide/host-routes.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encaminament de noms de domini</font></font></a></li>
<li><a href="../../guide/x509.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ús de certificats X509 en fibjs</font></font></a></li>
<li><a href="../../guide/contribute.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">afegir un mòdul natiu</font></font></a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_module" aria-controls="collapse_module"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mòdul bàsic</font></font></a></h4></div><div id="collapse_module" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../manual/module/ifs/assert.md.html" class="notranslate">assert</a></li>
<li><a href="../../manual/module/ifs/base32.md.html" class="notranslate">base32</a></li>
<li><a href="../../manual/module/ifs/base58.md.html" class="notranslate">base58</a></li>
<li><a href="../../manual/module/ifs/base64.md.html" class="notranslate">base64</a></li>
<li><a href="../../manual/module/ifs/child_process.md.html" class="notranslate">child_process</a></li>
<li><a href="../../manual/module/ifs/console.md.html" class="notranslate">console</a></li>
<li><a href="../../manual/module/ifs/constants.md.html" class="notranslate">constants</a></li>
<li><a href="../../manual/module/ifs/coroutine.md.html" class="notranslate">coroutine</a></li>
<li><a href="../../manual/module/ifs/crypto.md.html" class="notranslate">crypto</a></li>
<li><a href="../../manual/module/ifs/db.md.html" class="notranslate">db</a></li>
<li><a href="../../manual/module/ifs/dgram.md.html" class="notranslate">dgram</a></li>
<li><a href="../../manual/module/ifs/dns.md.html" class="notranslate">dns</a></li>
<li><a href="../../manual/module/ifs/encoding.md.html" class="notranslate">encoding</a></li>
<li><a href="../../manual/module/ifs/fs.md.html" class="notranslate">fs</a></li>
<li><a href="../../manual/module/ifs/fs_constants.md.html" class="notranslate">fs_constants</a></li>
<li><a href="../../manual/module/ifs/gd.md.html" class="notranslate">gd</a></li>
<li><a href="../../manual/module/ifs/global.md.html" class="notranslate">global</a></li>
<li><a href="../../manual/module/ifs/gui.md.html" class="notranslate">gui</a></li>
<li><a href="../../manual/module/ifs/hash.md.html" class="notranslate">hash</a></li>
<li><a href="../../manual/module/ifs/hex.md.html" class="notranslate">hex</a></li>
<li><a href="../../manual/module/ifs/http.md.html" class="notranslate">http</a></li>
<li><a href="../../manual/module/ifs/iconv.md.html" class="notranslate">iconv</a></li>
<li><a href="../../manual/module/ifs/io.md.html" class="notranslate">io</a></li>
<li><a href="../../manual/module/ifs/json.md.html" class="notranslate">json</a></li>
<li><a href="../../manual/module/ifs/mq.md.html" class="notranslate">mq</a></li>
<li><a href="../../manual/module/ifs/msgpack.md.html" class="notranslate">msgpack</a></li>
<li><a href="../../manual/module/ifs/multibase.md.html" class="notranslate">multibase</a></li>
<li><a href="../../manual/module/ifs/net.md.html" class="notranslate">net</a></li>
<li><a href="../../manual/module/ifs/os.md.html" class="notranslate">os</a></li>
<li><a href="../../manual/module/ifs/path.md.html" class="notranslate">path</a></li>
<li><a href="../../manual/module/ifs/path_posix.md.html" class="notranslate">path_posix</a></li>
<li><a href="../../manual/module/ifs/path_win32.md.html" class="notranslate">path_win32</a></li>
<li><a href="../../manual/module/ifs/perf_hooks.md.html" class="notranslate">perf_hooks</a></li>
<li><a href="../../manual/module/ifs/performance.md.html" class="notranslate">performance</a></li>
<li><a href="../../manual/module/ifs/process.md.html" class="notranslate">process</a></li>
<li><a href="../../manual/module/ifs/profiler.md.html" class="notranslate">profiler</a></li>
<li><a href="../../manual/module/ifs/punycode.md.html" class="notranslate">punycode</a></li>
<li><a href="../../manual/module/ifs/querystring.md.html" class="notranslate">querystring</a></li>
<li><a href="../../manual/module/ifs/registry.md.html" class="notranslate">registry</a></li>
<li><a href="../../manual/module/ifs/ssl.md.html" class="notranslate">ssl</a></li>
<li><a href="../../manual/module/ifs/string_decoder.md.html" class="notranslate">string_decoder</a></li>
<li><a href="../../manual/module/ifs/test.md.html" class="notranslate">test</a></li>
<li><a href="../../manual/module/ifs/timers.md.html" class="notranslate">timers</a></li>
<li><a href="../../manual/module/ifs/tty.md.html" class="notranslate">tty</a></li>
<li><a href="../../manual/module/ifs/url.md.html" class="notranslate">url</a></li>
<li><a href="../../manual/module/ifs/util.md.html" class="notranslate">util</a></li>
<li><a href="../../manual/module/ifs/uuid.md.html" class="notranslate">uuid</a></li>
<li><a href="../../manual/module/ifs/vm.md.html" class="notranslate">vm</a></li>
<li><a href="../../manual/module/ifs/worker_threads.md.html" class="notranslate">worker_threads</a></li>
<li><a href="../../manual/module/ifs/ws.md.html" class="notranslate">ws</a></li>
<li><a href="../../manual/module/ifs/xml.md.html" class="notranslate">xml</a></li>
<li><a href="../../manual/module/ifs/zip.md.html" class="notranslate">zip</a></li>
<li><a href="../../manual/module/ifs/zlib.md.html" class="notranslate">zlib</a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_object" aria-controls="collapse_object"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectes incorporats</font></font></a></h4></div><div id="collapse_object" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../manual/object/ifs/buffer.md.html" class="notranslate">Buffer</a></li>
<li><a href="../../manual/object/ifs/bufferedstream.md.html" class="notranslate">BufferedStream</a></li>
<li><a href="../../manual/object/ifs/chain.md.html" class="notranslate">Chain</a></li>
<li><a href="../../manual/object/ifs/childprocess.md.html" class="notranslate">ChildProcess</a></li>
<li><a href="../../manual/object/ifs/cipher.md.html" class="notranslate">Cipher</a></li>
<li><a href="../../manual/object/ifs/condition.md.html" class="notranslate">Condition</a></li>
<li><a href="../../manual/object/ifs/dbconnection.md.html" class="notranslate">DbConnection</a></li>
<li><a href="../../manual/object/ifs/dgramsocket.md.html" class="notranslate">DgramSocket</a></li>
<li><a href="../../manual/object/ifs/digest.md.html" class="notranslate">Digest</a></li>
<li><a href="../../manual/object/ifs/event.md.html" class="notranslate">Event</a></li>
<li><a href="../../manual/object/ifs/eventemitter.md.html" class="notranslate">EventEmitter</a></li>
<li><a href="../../manual/object/ifs/fswatcher.md.html" class="notranslate">FSWatcher</a></li>
<li><a href="../../manual/object/ifs/fiber.md.html" class="notranslate">Fiber</a></li>
<li><a href="../../manual/object/ifs/file.md.html" class="notranslate">File</a></li>
<li><a href="../../manual/object/ifs/handler.md.html" class="notranslate">Handler</a></li>
<li><a href="../../manual/object/ifs/heapgraphedge.md.html" class="notranslate">HeapGraphEdge</a></li>
<li><a href="../../manual/object/ifs/heapgraphnode.md.html" class="notranslate">HeapGraphNode</a></li>
<li><a href="../../manual/object/ifs/heapsnapshot.md.html" class="notranslate">HeapSnapshot</a></li>
<li><a href="../../manual/object/ifs/httpclient.md.html" class="notranslate">HttpClient</a></li>
<li><a href="../../manual/object/ifs/httpcollection.md.html" class="notranslate">HttpCollection</a></li>
<li><a href="../../manual/object/ifs/httpcookie.md.html" class="notranslate">HttpCookie</a></li>
<li><a href="../../manual/object/ifs/httphandler.md.html" class="notranslate">HttpHandler</a></li>
<li><a href="../../manual/object/ifs/httpmessage.md.html" class="notranslate">HttpMessage</a></li>
<li><a href="../../manual/object/ifs/httprepeater.md.html" class="notranslate">HttpRepeater</a></li>
<li><a href="../../manual/object/ifs/httprequest.md.html" class="notranslate">HttpRequest</a></li>
<li><a href="../../manual/object/ifs/httpresponse.md.html" class="notranslate">HttpResponse</a></li>
<li><a href="../../manual/object/ifs/httpserver.md.html" class="notranslate">HttpServer</a></li>
<li><a href="../../manual/object/ifs/httpuploaddata.md.html" class="notranslate">HttpUploadData</a></li>
<li><a href="../../manual/object/ifs/httpsserver.md.html" class="notranslate">HttpsServer</a></li>
<li><a href="../../manual/object/ifs/image.md.html" class="notranslate">Image</a></li>
<li><a href="../../manual/object/ifs/iterator.md.html" class="notranslate">Iterator</a></li>
<li><a href="../../manual/object/ifs/leveldb.md.html" class="notranslate">LevelDB</a></li>
<li><a href="../../manual/object/ifs/lock.md.html" class="notranslate">Lock</a></li>
<li><a href="../../manual/object/ifs/lrucache.md.html" class="notranslate">LruCache</a></li>
<li><a href="../../manual/object/ifs/memorystream.md.html" class="notranslate">MemoryStream</a></li>
<li><a href="../../manual/object/ifs/message.md.html" class="notranslate">Message</a></li>
<li><a href="../../manual/object/ifs/mongocollection.md.html" class="notranslate">MongoCollection</a></li>
<li><a href="../../manual/object/ifs/mongocursor.md.html" class="notranslate">MongoCursor</a></li>
<li><a href="../../manual/object/ifs/mongodb.md.html" class="notranslate">MongoDB</a></li>
<li><a href="../../manual/object/ifs/mongoid.md.html" class="notranslate">MongoID</a></li>
<li><a href="../../manual/object/ifs/mysql.md.html" class="notranslate">MySQL</a></li>
<li><a href="../../manual/object/ifs/odbc.md.html" class="notranslate">Odbc</a></li>
<li><a href="../../manual/object/ifs/pkey.md.html" class="notranslate">PKey</a></li>
<li><a href="../../manual/object/ifs/rangestream.md.html" class="notranslate">RangeStream</a></li>
<li><a href="../../manual/object/ifs/redis.md.html" class="notranslate">Redis</a></li>
<li><a href="../../manual/object/ifs/redishash.md.html" class="notranslate">RedisHash</a></li>
<li><a href="../../manual/object/ifs/redislist.md.html" class="notranslate">RedisList</a></li>
<li><a href="../../manual/object/ifs/redisset.md.html" class="notranslate">RedisSet</a></li>
<li><a href="../../manual/object/ifs/redissortedset.md.html" class="notranslate">RedisSortedSet</a></li>
<li><a href="../../manual/object/ifs/routing.md.html" class="notranslate">Routing</a></li>
<li><a href="../../manual/object/ifs/sqlite.md.html" class="notranslate">SQLite</a></li>
<li><a href="../../manual/object/ifs/sandbox.md.html" class="notranslate">SandBox</a></li>
<li><a href="../../manual/object/ifs/seekablestream.md.html" class="notranslate">SeekableStream</a></li>
<li><a href="../../manual/object/ifs/semaphore.md.html" class="notranslate">Semaphore</a></li>
<li><a href="../../manual/object/ifs/service.md.html" class="notranslate">Service</a></li>
<li><a href="../../manual/object/ifs/smtp.md.html" class="notranslate">Smtp</a></li>
<li><a href="../../manual/object/ifs/socket.md.html" class="notranslate">Socket</a></li>
<li><a href="../../manual/object/ifs/sslhandler.md.html" class="notranslate">SslHandler</a></li>
<li><a href="../../manual/object/ifs/sslserver.md.html" class="notranslate">SslServer</a></li>
<li><a href="../../manual/object/ifs/sslsocket.md.html" class="notranslate">SslSocket</a></li>
<li><a href="../../manual/object/ifs/stat.md.html" class="notranslate">Stat</a></li>
<li><a href="../../manual/object/ifs/statswatcher.md.html" class="notranslate">StatsWatcher</a></li>
<li><a href="../../manual/object/ifs/stream.md.html" class="notranslate">Stream</a></li>
<li><a href="../../manual/object/ifs/stringdecoder.md.html" class="notranslate">StringDecoder</a></li>
<li><a href="../../manual/object/ifs/ttyinputstream.md.html" class="notranslate">TTYInputStream</a></li>
<li><a href="../../manual/object/ifs/ttyoutputstream.md.html" class="notranslate">TTYOutputStream</a></li>
<li><a href="../../manual/object/ifs/tcpserver.md.html" class="notranslate">TcpServer</a></li>
<li><a href="../../manual/object/ifs/textdecoder.md.html" class="notranslate">TextDecoder</a></li>
<li><a href="../../manual/object/ifs/textencoder.md.html" class="notranslate">TextEncoder</a></li>
<li><a href="../../manual/object/ifs/timer.md.html" class="notranslate">Timer</a></li>
<li><a href="../../manual/object/ifs/urlobject.md.html" class="notranslate">UrlObject</a></li>
<li><a href="../../manual/object/ifs/websocket.md.html" class="notranslate">WebSocket</a></li>
<li><a href="../../manual/object/ifs/websocketmessage.md.html" class="notranslate">WebSocketMessage</a></li>
<li><a href="../../manual/object/ifs/webview.md.html" class="notranslate">WebView</a></li>
<li><a href="../../manual/object/ifs/worker.md.html" class="notranslate">Worker</a></li>
<li><a href="../../manual/object/ifs/x509cert.md.html" class="notranslate">X509Cert</a></li>
<li><a href="../../manual/object/ifs/x509crl.md.html" class="notranslate">X509Crl</a></li>
<li><a href="../../manual/object/ifs/x509req.md.html" class="notranslate">X509Req</a></li>
<li><a href="../../manual/object/ifs/xmlattr.md.html" class="notranslate">XmlAttr</a></li>
<li><a href="../../manual/object/ifs/xmlcdatasection.md.html" class="notranslate">XmlCDATASection</a></li>
<li><a href="../../manual/object/ifs/xmlcharacterdata.md.html" class="notranslate">XmlCharacterData</a></li>
<li><a href="../../manual/object/ifs/xmlcomment.md.html" class="notranslate">XmlComment</a></li>
<li><a href="../../manual/object/ifs/xmldocument.md.html" class="notranslate">XmlDocument</a></li>
<li><a href="../../manual/object/ifs/xmldocumenttype.md.html" class="notranslate">XmlDocumentType</a></li>
<li><a href="../../manual/object/ifs/xmlelement.md.html" class="notranslate">XmlElement</a></li>
<li><a href="../../manual/object/ifs/xmlnamednodemap.md.html" class="notranslate">XmlNamedNodeMap</a></li>
<li><a href="../../manual/object/ifs/xmlnode.md.html" class="notranslate">XmlNode</a></li>
<li><a href="../../manual/object/ifs/xmlnodelist.md.html" class="notranslate">XmlNodeList</a></li>
<li><a href="../../manual/object/ifs/xmlprocessinginstruction.md.html" class="notranslate">XmlProcessingInstruction</a></li>
<li><a href="../../manual/object/ifs/xmltext.md.html" class="notranslate">XmlText</a></li>
<li><a href="../../manual/object/ifs/zipfile.md.html" class="notranslate">ZipFile</a></li>
<li><a href="../../manual/object/ifs/object.md.html" class="notranslate">object</a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_awesome" aria-controls="collapse_awesome"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mòdul comunitari</font></font></a></h4></div><div id="collapse_awesome" class="panel-collapse collapse in" aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="fib-session.md.html" class="notranslate">fib-session</a></li>
<li><a href="fib-pool.md.html" class="notranslate">fib-pool</a></li>
<li><a href="fib-orm.md.html" class="notranslate">fib-orm</a></li>
<li><a href="fib-app.md.html" class="notranslate">fib-app</a></li>
<li><a href="fib-kv.md.html" class="notranslate">fib-kv</a></li>
<li><a href="fib-rpc.md.html" class="notranslate">fib-rpc</a></li>
<li><a href="fib-qr.md.html" class="notranslate">fib-qr</a></li>
<li><a href="fib-pug.md.html" class="notranslate">fib-pug</a></li>
<li><a href="ejs.md.html" class="notranslate">ejs</a></li>
<li><a href="juicer.md.html" class="notranslate">Juicer</a></li>
<li><a href="highlight.js.md.html" class="notranslate">highlight.js</a></li>
<li><a href="marked.md.html" class="notranslate">marked</a></li>
<li><a href="node-cron.md.html" class="notranslate">node-cron</a></li>
<li><a href="debug.md.html" class="notranslate">debug</a></li>
<li><a href="benchmark.js.md.html" class="notranslate">benchmark.js</a></li>
<li><a href="sinon.md.html" class="notranslate">sinon</a></li>
<li><a href="node-mime.md.html" class="notranslate">node-mime</a></li>
<li><a href="validatorjs.md.html" class="notranslate">validatorjs</a></li>
<li><a href="superstruct.md.html" class="notranslate">superstruct</a></li>
<li><a href="cluster-server.md.html" class="notranslate">cluster-server</a></li>
<li><a href="synaptic.md.html" class="notranslate">synaptic</a></li>
<li><a href="source-map.md.html" class="notranslate">source-map</a></li>
<li><a href="json-format.md.html" class="notranslate">json-format</a></li>
<li><a href="viz.js.md.html" class="notranslate">viz.js</a></li>
<li><a href="nomnoml.md.html" class="notranslate">nomnoml</a></li>
<li><a href="pegjs.md.html" class="notranslate">pegjs</a></li>
<li class="active"><a href="uglify-js.md.html" class="notranslate">uglify-js</a></li>
<li><a href="js-beautify.md.html" class="notranslate">js-beautify</a></li>
<li><a href="chalk-animation.md.html" class="notranslate">chalk-animation</a></li>
<li><a href="jsrsasign.md.html" class="notranslate">jsrsasign</a></li>
<li><a href="crypto-js.md.html" class="notranslate">crypto-js</a></li>
<li><a href="ascii-table.md.html" class="notranslate">ascii-table</a></li>
<li><a href="logstream.md.html" class="notranslate">logstream</a></li>
<li><a href="ci.md.html" class="notranslate">ci</a></li>
<li><a href="fs-readdir-recursive.md.html" class="notranslate">fs-readdir-recursive</a></li>
<li><a href="mkdirp.md.html" class="notranslate">mkdirp</a></li>
<li><a href="rmdirr.md.html" class="notranslate">rmdirr</a></li>
<li><a href="detect-port.md.html" class="notranslate">detect-port</a></li>
<li><a href="bitcoinjs-lib.md.html" class="notranslate">bitcoinjs-lib</a></li>
<li><a href="rakuten.md.html" class="notranslate">Rakuten</a></li>
</ul>
 </div></div></div>  </div></div><div class="content"><div class="social-share share-component" data-sites="weibo,twitter" data-description="分享"></div> <div name="UglifyJS-3" data-unique="UglifyJS-3"></div><h1 id="UglifyJS-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS 3</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS és un conjunt d'eines d'analitzador, minificador, compressor i embellidor de JavaScript.</font></font></p>
<h4 id="Note:"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></h4>
<ul>
<li><strong><code>uglify-js@3</code><font style="vertical-align: inherit;"></font><a href="#api-reference"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">té una API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> i una </font></font><a href="#command-line-usage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> simplificades </font><font style="vertical-align: inherit;">que no són compatibles amb</font></font><a href="https://github.com/mishoo/UglifyJS2/tree/v2.x"><code>uglify-js@2</code></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La documentació per a les versions d'UglifyJS </font></font><code>2.x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es pot trobar </font></font><a href="https://github.com/mishoo/UglifyJS2/tree/v2.x"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><code>uglify-js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">només admet JavaScript (ECMAScript 5).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per minimitzar ECMAScript 2015 o superior, transpileu amb eines com </font></font><a href="https://babeljs.io/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Babel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul>
<div name="Install" data-unique="Install"></div><h2 id="Install"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal·lar</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primer assegureu-vos que heu instal·lat la darrera versió de </font></font><a href="http://nodejs.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">node.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
(pot ser que hàgiu de reiniciar l'ordinador després d'aquest pas).</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des de NPM per utilitzar-lo com a aplicació de línia d'ordres:</font></font></p>
<pre><code><div class="line-numbers">1</div>npm <span class="hljs-keyword">install </span>uglify-<span class="hljs-keyword">js </span>-g
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De NPM per a ús programàtic:</font></font></p>
<pre><code><div class="line-numbers">1</div>npm <span class="hljs-keyword">install</span> uglify-js
</code></pre><div name="Command-line-usage" data-unique="Command-line-usage"></div><h1 id="Command-line-usage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ús de la línia d'ordres</font></font></h1>
<pre><code><div class="line-numbers">1</div>uglifyjs [<span class="hljs-built_in">input</span> <span class="hljs-keyword">files</span>] [<span class="hljs-keyword">options</span>]
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS pot prendre diversos fitxers d'entrada. És recomanable que primer passeu els fitxers d'entrada i després passeu les opcions. UglifyJS analitzarà els fitxers d'entrada en seqüència i aplicarà qualsevol opció de compressió. Els fitxers s'analitzen en el mateix àmbit global, és a dir, una referència d'un fitxer a alguna variable/funció declarada en un altre fitxer es farà coincidir correctament.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si no s'especifica cap fitxer d'entrada, UglifyJS llegirà des de STDIN.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si voleu passar les vostres opcions abans dels fitxers d'entrada, separeu-los amb un guió doble per evitar que els fitxers d'entrada s'utilitzin com a arguments d'opció:</font></font></p>
<pre><code><div class="line-numbers">1</div><span class="hljs-comment">uglifyjs</span> --<span class="hljs-comment">compress</span> --<span class="hljs-comment">mangle</span> -- <span class="hljs-comment">input</span><span class="hljs-string">.</span><span class="hljs-comment">js</span>
</code></pre><div name="Command-line-options" data-unique="Command-line-options"></div><h3 id="Command-line-options" class="notranslate">Command line options</h3>
<pre><code><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</div>    -h, --help                  <span class="hljs-builtin-name">Print</span> usage information.<font></font>
                                `--help options` <span class="hljs-keyword">for</span> details on available options.<font></font>
    -V, --version               <span class="hljs-builtin-name">Print</span> version number.<font></font>
    -p, --parse &lt;options&gt;       Specify parser options:<font></font>
                                `acorn`  Use Acorn <span class="hljs-keyword">for</span> parsing.<font></font>
                                `bare_returns`  Allow return outside of functions.<font></font>
                                                Useful when minifying CommonJS<font></font>
                                                modules <span class="hljs-keyword">and</span> Userscripts that may<font></font>
                                                be anonymous function wrapped (IIFE)<font></font>
                                                by the .user.js engine `caller`.<font></font>
                                `expression`  Parse a single expression, rather than<font></font>
                                              a program (<span class="hljs-keyword">for</span> parsing JSON).<font></font>
                                `spidermonkey`  Assume input files are SpiderMonkey<font></font>
                                                AST format (as JSON).<font></font>
    -c, --compress [options]    <span class="hljs-builtin-name">Enable</span> compressor/specify compressor options:<font></font>
                                `pure_funcs`  List of functions that can be safely<font></font>
                                              removed when their return values are<font></font>
                                              <span class="hljs-keyword">not</span> used.<font></font>
    -m, --mangle [options]     <span class="hljs-built_in"> Mangle </span>names/specify mangler options:<font></font>
                                `reserved`  List of names that should <span class="hljs-keyword">not</span> be mangled.<font></font>
    --mangle-props [options]   <span class="hljs-built_in"> Mangle </span>properties/specify mangler options:<font></font>
                                `builtins` <span class="hljs-built_in"> Mangle </span>property names that overlaps<font></font>
                                            with standard JavaScript globals.<font></font>
                                `debug`  <span class="hljs-builtin-name">Add</span> <span class="hljs-builtin-name">debug</span><span class="hljs-built_in"> prefix </span><span class="hljs-keyword">and</span> suffix.<font></font>
                                `domprops` <span class="hljs-built_in"> Mangle </span>property names that overlaps<font></font>
                                            with DOM properties.<font></font>
                                `keep_quoted`  Only<span class="hljs-built_in"> mangle </span>unquoted properties.<font></font>
                                `regex`  Only<span class="hljs-built_in"> mangle </span>matched property names.<font></font>
                                `reserved`  List of names that should <span class="hljs-keyword">not</span> be mangled.<font></font>
    -b, --beautify [options]    Beautify output/specify output options:<font></font>
                                `beautify`  Enabled with `--beautify` by default.<font></font>
                                `preamble`  Preamble <span class="hljs-keyword">to</span> prepend <span class="hljs-keyword">to</span> the output. You<font></font>
                                            can use this <span class="hljs-keyword">to</span> insert a comment, <span class="hljs-keyword">for</span>
                                            example <span class="hljs-keyword">for</span> licensing information.<font></font>
                                            This will <span class="hljs-keyword">not</span> be parsed, but the source<font></font>
                                            map will adjust <span class="hljs-keyword">for</span> its presence.<font></font>
                                `quote_style`  Quote style:<font></font>
                                               0 - auto<font></font>
                                               1 - single<font></font>
                                               2 - double<font></font>
                                               3 - original<font></font>
                                `wrap_iife`  Wrap IIFEs <span class="hljs-keyword">in</span> parenthesis. Note: you may<font></font>
                                             want <span class="hljs-keyword">to</span> <span class="hljs-builtin-name">disable</span> `negate_iife` under<font></font>
                                             compressor options.<font></font>
    -o, --output &lt;file&gt;         Output file path (default STDOUT). Specify `ast` <span class="hljs-keyword">or</span>
                                `spidermonkey` <span class="hljs-keyword">to</span> write UglifyJS <span class="hljs-keyword">or</span> SpiderMonkey AST<font></font>
                                as JSON <span class="hljs-keyword">to</span> STDOUT respectively.<font></font>
    --comments [filter]         Preserve copyright comments <span class="hljs-keyword">in</span> the output. By
                               <span class="hljs-built_in"> default </span>this works like Google Closure, keeping<font></font>
                                JSDoc-style comments that contain <span class="hljs-string">"@license"</span> <span class="hljs-keyword">or</span>
                                <span class="hljs-string">"@preserve"</span>. You can optionally pass one of the<font></font>
                                following arguments <span class="hljs-keyword">to</span> this flag:<font></font>
                                - <span class="hljs-string">"all"</span> <span class="hljs-keyword">to</span> keep all comments<font></font>
                                - a valid JS RegExp like `/foo/` <span class="hljs-keyword">or</span> `/^!/` <span class="hljs-keyword">to</span><font></font>
                                keep only matching comments.<font></font>
                               <span class="hljs-built_in"> Note </span>that currently <span class="hljs-keyword">not</span> <span class="hljs-number">*a</span>ll* comments can be<font></font>
                                kept when compression is on, because of dead<font></font>
                                code removal <span class="hljs-keyword">or</span> cascading statements into<font></font>
                                sequences.<font></font>
    --config-file &lt;file&gt;        Read `minify()` options <span class="hljs-keyword">from</span> JSON file.<font></font>
    -d, --define &lt;expr&gt;[=value] Global definitions.<font></font>
    --ie8                       Support non-standard Internet Explorer 8.<font></font>
                                Equivalent <span class="hljs-keyword">to</span> setting `ie8: <span class="hljs-literal">true</span>` <span class="hljs-keyword">in</span> `minify()`
                                <span class="hljs-keyword">for</span> `compress`, `mangle` <span class="hljs-keyword">and</span> `output` options.<font></font>
                                By<span class="hljs-built_in"> default </span>UglifyJS will <span class="hljs-keyword">not</span> try <span class="hljs-keyword">to</span> be IE-proof.<font></font>
    --keep-fnames               <span class="hljs-keyword">Do</span> <span class="hljs-keyword">not</span> mangle/drop function names.  Useful <span class="hljs-keyword">for</span><font></font>
                                code relying on Function.prototype.name.<font></font>
    --name-cache &lt;file&gt;         File <span class="hljs-keyword">to</span> hold mangled name mappings.<font></font>
    --self                      Build UglifyJS as a library (implies --wrap UglifyJS)<font></font>
    --source-map [options]      <span class="hljs-builtin-name">Enable</span> source map/specify source map options:<font></font>
                                `base`  Path <span class="hljs-keyword">to</span> compute relative paths <span class="hljs-keyword">from</span> input files.<font></font>
                                `content`  Input source map, useful <span class="hljs-keyword">if</span> you<span class="hljs-string">'re compressing
                                           JS that was generated from some other original
                                           code. Specify "inline" if the source map is
                                           included within the sources.
                                `filename`  Name and/or location of the output source.
                                `includeSources`  Pass this flag if you want to include
                                                  the content of source files in the
                                                  source map as sourcesContent property.
                                `root`  Path to the original source to be included in
                                        the source map.
                                `url`  If specified, path to the source map to append in
                                       `//# sourceMappingURL`.
    --timings                   Display operations run time on STDERR.
    --toplevel                  Compress and/or mangle variables in top level scope.
    --verbose                   Print diagnostic messages.
    --warn                      Print warning messages.
    --wrap &lt;name&gt;               Embed everything in a big function, making the
                                “exports” and “global” variables available. You
                                need to pass an argument to this option to
                                specify the name that your module will take
                                when included in, say, a browser.</span>
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Especifiqueu </font></font><code>--output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-o</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) per declarar el fitxer de sortida. En cas contrari, la sortida passa a STDOUT.</font></font></p>
<div name="CLI-source-map-options" data-unique="CLI-source-map-options"></div><h2 id="CLI-source-map-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opcions de mapa font de la CLI</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS pot generar un fitxer de mapa font, que és molt útil per depurar el vostre JavaScript comprimit. Per obtenir un mapa font, passeu
 </font></font><code>--source-map --output output.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(el mapa font s'escriurà a
 </font></font><code>output.js.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opcions addicionals:</font></font></p>
<ul>
<li><p><code>--source-map "filename='&lt;NAME&gt;'"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per especificar el nom del mapa d'origen.</font></font></p>
</li>
<li><p><code>--source-map "root='&lt;URL&gt;'"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per passar l'URL on es poden trobar els fitxers originals.</font></font></p>
</li>
<li><p><code>--source-map "url='&lt;URL&gt;'"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per especificar l'URL on es pot trobar el mapa d'origen. En cas contrari, UglifyJS assumeix </font></font><code>X-SourceMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que s'està utilitzant HTTP i ometrà la
 </font></font><code>//# sourceMappingURL=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directiva.</font></font></p>
</li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per exemple:</font></font></p>
<pre><code><div class="line-numbers">1
2
3</div>uglifyjs <span class="hljs-keyword">js</span>/file1<span class="hljs-number">.</span><span class="hljs-keyword">js</span> <span class="hljs-keyword">js</span>/file2<span class="hljs-number">.</span><span class="hljs-keyword">js</span> \<font></font>
         -o foo<span class="hljs-number">.</span>min<span class="hljs-number">.</span><span class="hljs-keyword">js</span> -c -m \<font></font>
         --source-map <span class="hljs-string">"root='http://foo.com/src',url='foo.min.js.map'"</span>
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'anterior comprimirà i manipularà </font></font><code>file1.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font><code>file2.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, deixarà anar la sortida </font></font><code>foo.min.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i el mapa d'origen a </font></font><code>foo.min.js.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El mapeig d'origen es referirà a </font></font><code>http://foo.com/src/js/file1.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i
 </font></font><code>http://foo.com/src/js/file2.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(de fet apareixerà </font></font><code>http://foo.com/src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
com a arrel del mapa d'origen, i els fitxers originals com a </font></font><code>js/file1.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i
 </font></font><code>js/file2.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></p>
<div name="Composed-source-map" data-unique="Composed-source-map"></div><h3 id="Composed-source-map" class="notranslate">Composed source map</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quan esteu comprimint codi JS generat per un compilador com ara CoffeeScript, la correspondència amb el codi JS no serà massa útil. En comptes d'això, us agradaria tornar al codi original (és a dir, CoffeeScript). UglifyJS té un opció per prendre un mapa d'origen d'entrada. Suposant que teniu un mapeig de CoffeeScript → JS compilat, UglifyJS pot generar un mapa de CoffeeScript → JS comprimit assignant cada testimoni del JS compilat a la seva ubicació original.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per utilitzar aquesta característica passa </font></font><code>--source-map "content='/path/to/input/source.map'"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
o </font></font><code>--source-map "content=inline"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si el mapa font s'inclou en línia amb les fonts.</font></font></p>
<div name="CLI-compress-options" data-unique="CLI-compress-options"></div><h2 id="CLI-compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opcions de compressió CLI</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heu de passar </font></font><code>--compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) per habilitar el compressor. Opcionalment podeu passar una llista d' </font></font><a href="#compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcions de compressió</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> separades per comes .</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les opcions estan en la forma </font></font><code>foo=bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o només </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(aquest últim implica una opció booleana que voleu establir </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; efectivament és una drecera per a </font></font><code>foo=true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple:</font></font></p>
<pre><code><div class="line-numbers">1</div>uglifyjs <span class="hljs-built_in">file</span>.js -c toplevel,sequences=<span class="hljs-literal">false</span>
</code></pre><div name="CLI-mangle-options" data-unique="CLI-mangle-options"></div><h2 id="CLI-mangle-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opcions de mangle CLI</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per habilitar el mangler, heu de passar </font></font><code>--mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). S'admeten les opcions següents (separades per comes):</font></font></p>
<ul>
<li><p><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- modifica els noms declarats a l'àmbit de nivell superior.</font></font></p>
</li>
<li><p><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- modifica els noms visibles als àmbits on </font><font style="vertical-align: inherit;">s'utilitzen </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o .</font></font><code>with</code><font style="vertical-align: inherit;"></font></p>
</li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quan la manipulació està activada però voleu evitar que determinats noms siguin alterats, podeu declarar aquests noms amb </font></font><code>--mangle reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— passeu una llista de noms separats per comes. Per exemple:</font></font></p>
<pre><code><div class="line-numbers">1</div><span class="hljs-function"><span class="hljs-title">uglifyjs</span></span> ... -m reserved=[<span class="hljs-string">'$'</span>,<span class="hljs-string">'require'</span>,<span class="hljs-string">'exports'</span>]
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per evitar que els noms </font></font><code>require</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>exports</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font><code>$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es canviïn.</font></font></p>
<div name="CLI-mangling-property-names-(--mangle-props)" data-unique="CLI-mangling-property-names-(--mangle-props)"></div><h3 id="CLI-mangling-property-names-(--mangle-props)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLI modifica els noms de propietats ( </font></font><code>--mangle-props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></h3>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AIXÒ PROBABLEMENT TRENCARÀ EL TEU CODI. La manipulació dels noms de propietat és un pas independent, diferent de la manipulació de noms de variables. Passa
 </font></font><code>--mangle-props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per activar-la. Manipularà totes les propietats del codi d'entrada, a excepció de les propietats DOM integrades i les propietats del JavaScript bàsic. classes. Per exemple:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11</div><span class="hljs-comment">// example.js</span>
<span class="hljs-keyword">var</span> x = {
    <span class="hljs-attr">baz_</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">foo_</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">calc</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.foo_ + <span class="hljs-keyword">this</span>.baz_;<font></font>
    }<font></font>
};<font></font>
x.bar_ = <span class="hljs-number">2</span>;<font></font>
x[<span class="hljs-string">"baz_"</span>] = <span class="hljs-number">3</span>;
<span class="hljs-built_in">console</span>.log(x.calc());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manipular totes les propietats (excepte JavaScript </font></font><code>builtins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs example.js -c -m --mangle-props
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> x={<span class="hljs-attr">o</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">l</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._+<span class="hljs-keyword">this</span>.o}};x.t=<span class="hljs-number">2</span>,x.o=<span class="hljs-number">3</span>,<span class="hljs-built_in">console</span>.log(x.l());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Destrossa totes les propietats excepte les </font></font><code>reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propietats:</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs example.js -c -m --mangle-props reserved=[foo_,bar_]
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> x={<span class="hljs-attr">o</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">foo_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">_</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.foo_+<span class="hljs-keyword">this</span>.o}};x.bar_=<span class="hljs-number">2</span>,x.o=<span class="hljs-number">3</span>,<span class="hljs-built_in">console</span>.log(x._());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Destrossa totes les propietats que coincideixen amb </font></font><code>regex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs example.js -c -m --mangle-props regex=/_$/
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> x={<span class="hljs-attr">o</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">calc</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._+<span class="hljs-keyword">this</span>.o}};x.l=<span class="hljs-number">2</span>,x.o=<span class="hljs-number">3</span>,<span class="hljs-built_in">console</span>.log(x.calc());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opcions de combinació de propietats de mangle:</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs example.js -c -m --mangle-props regex=/_$/,reserved=[bar_]
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> x={<span class="hljs-attr">o</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">calc</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._+<span class="hljs-keyword">this</span>.o}};x.bar_=<span class="hljs-number">2</span>,x.o=<span class="hljs-number">3</span>,<span class="hljs-built_in">console</span>.log(x.calc());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perquè això sigui útil, evitem alterar els noms JS estàndard per defecte ( </font></font><code>--mangle-props builtins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per substituir).</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es proporciona un fitxer d'exclusió predeterminat </font></font><code>tools/domprops.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que hauria de cobrir la majoria de propietats estàndard de JS i DOM definides en diversos navegadors. Passeu
 </font></font><code>--mangle-props domprops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per desactivar aquesta funció.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es pot utilitzar una expressió regular per definir quins noms de propietat s'han de modificar. Per exemple, </font></font><code>--mangle-props regex=/^_/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">només es manipularan els noms de propietat que comencen amb un guió baix.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quan comprimiu diversos fitxers amb aquesta opció, per tal que al final funcionin junts, hem d'assegurar-nos d'alguna manera que una propietat es destrueixi amb el mateix nom en tots. Per això, passeu </font></font><code>--name-cache filename.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
i UglifyJS mantindrà aquests mapes en un fitxer que després es pot reutilitzar. Inicialment hauria d'estar buit. Exemple:</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1
2
3</div>$ rm -f /tmp/cache.json  <span class="hljs-comment"># start fresh</span><font></font>
$ uglifyjs file1.js file2.js --mangle-props --name-cache /tmp/cache.json -o part1.js<font></font>
$ uglifyjs file3.js file4.js --mangle-props --name-cache /tmp/cache.json -o part2.js<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara, </font></font><code>part1.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font><code>part2.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seran coherents entre si pel que fa als noms de propietat alterats.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'ús de la memòria cau de noms no és necessari si comprimiu tots els fitxers en una sola trucada a UglifyJS.</font></font></p>
<div name="Mangling-unquoted-names-(--mangle-props-keep_quoted)" data-unique="Mangling-unquoted-names-(--mangle-props-keep_quoted)"></div><h3 id="Mangling-unquoted-names-(--mangle-props-keep_quoted)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manipulació de noms sense cometes ( </font></font><code>--mangle-props keep_quoted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si utilitzeu el nom de propietat entre cometes ( </font></font><code>o["foo"]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) es reserva el nom de la propietat ( </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) de manera que no es deformi en tot l'script, fins i tot quan s'utilitza amb un estil sense cometes ( </font></font><code>o.foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Exemple:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7</div><span class="hljs-comment">// stuff.js</span>
<span class="hljs-keyword">var</span> o = {
    <span class="hljs-string">"foo"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">bar</span>: <span class="hljs-number">3</span><font></font>
};<font></font>
o.foo += o.bar;<font></font>
<span class="hljs-built_in">console</span>.log(o.foo);
</code></pre>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs stuff.js --mangle-props keep_quoted -c -m
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> o={<span class="hljs-attr">foo</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">o</span>:<span class="hljs-number">3</span>};o.foo+=o.o,<span class="hljs-built_in">console</span>.log(o.foo);
</code></pre>
<div name="Debugging-property-name-mangling" data-unique="Debugging-property-name-mangling"></div><h3 id="Debugging-property-name-mangling" class="notranslate">Debugging property name mangling</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">També podeu passar </font></font><code>--mangle-props debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per alterar els noms de les propietats sense enfosquir-los completament. Per exemple, la propietat </font></font><code>o.foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
es modificaria </font></font><code>o._$foo$_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">amb aquesta opció. Això permet manipular propietats d'una base de codi gran, alhora que podeu depurar el codi i identificar on la manipulació està trencant les coses.</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs stuff.js --mangle-props debug -c -m
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> o={<span class="hljs-attr">_$foo$_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">_$bar$_</span>:<span class="hljs-number">3</span>};o._$foo$_+=o._$bar$_,<span class="hljs-built_in">console</span>.log(o._$foo$_);
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">També podeu passar un sufix personalitzat amb </font></font><code>--mangle-props debug=XYZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Aleshores, es modificaria </font></font><code>o.foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font><code>o._$foo$XYZ_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Podeu canviar-ho cada vegada que compileu un script per identificar com s'ha alterat una propietat. Una tècnica és passar un nombre aleatori a cada compilació per simular el canvi de alteració amb diferents entrades (per exemple, a mesura que actualitzeu l'script d'entrada amb propietats noves) i per ajudar a identificar errors com escriure claus alterades a l'emmagatzematge.</font></font></p>
<div name="API-Reference" data-unique="API-Reference"></div><h1 id="API-Reference"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referència de l'API</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suposant la instal·lació mitjançant NPM, podeu carregar UglifyJS a la vostra aplicació així:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> UglifyJS = <span class="hljs-built_in">require</span>(<span class="hljs-string">"uglify-js"</span>);
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hi ha una única funció d'alt nivell, </font></font><strong><code>minify(code, options)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que realitzarà totes les </font></font><a href="#minify-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fases</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de minificació d'una manera configurable. Per defecte </font></font><code>minify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'habilitaran les opcions </font></font><a href="#compress-options"><code>compress</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
i </font></font><a href="#mangle-options"><code>mangle</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Exemple:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4</div><span class="hljs-keyword">var</span> code = <span class="hljs-string">"function add(first, second) { return first + second; }"</span>;
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code);
<span class="hljs-built_in">console</span>.log(result.error); <span class="hljs-comment">// runtime error, or `undefined` if no error</span>
<span class="hljs-built_in">console</span>.log(result.code);  <span class="hljs-comment">// minified output: function add(n,d){return n+d}</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podeu fer </font></font><code>minify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">més d'un fitxer JavaScript alhora utilitzant un objecte per al primer argument on les claus són noms de fitxers i els valors són codi font:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7</div><span class="hljs-keyword">var</span> code = {
    <span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"function add(first, second) { return first + second; }"</span>,
    <span class="hljs-string">"file2.js"</span>: <span class="hljs-string">"console.log(add(1 + 2, 3 + 4));"</span><font></font>
};<font></font>
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code);
<span class="hljs-built_in">console</span>.log(result.code);
<span class="hljs-comment">// function add(d,n){return d+n}console.log(add(3,7));</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div><span class="hljs-keyword">var</span> code = {
    <span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"function add(first, second) { return first + second; }"</span>,
    <span class="hljs-string">"file2.js"</span>: <span class="hljs-string">"console.log(add(1 + 2, 3 + 4));"</span><font></font>
};<font></font>
<span class="hljs-keyword">var</span> options = { <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">true</span> };
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code, options);
<span class="hljs-built_in">console</span>.log(result.code);
<span class="hljs-comment">// console.log(3+7);</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code>nameCache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</div><span class="hljs-keyword">var</span> options = {
    <span class="hljs-attr">mangle</span>: {
        <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">true</span>,<font></font>
    },<font></font>
    <span class="hljs-attr">nameCache</span>: {}<font></font>
};<font></font>
<span class="hljs-keyword">var</span> result1 = UglifyJS.minify({
    <span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"function add(first, second) { return first + second; }"</span><font></font>
}, options);<font></font>
<span class="hljs-keyword">var</span> result2 = UglifyJS.minify({
    <span class="hljs-string">"file2.js"</span>: <span class="hljs-string">"console.log(add(1 + 2, 3 + 4));"</span><font></font>
}, options);<font></font>
<span class="hljs-built_in">console</span>.log(result1.code);
<span class="hljs-comment">// function n(n,r){return n+r}</span>
<span class="hljs-built_in">console</span>.log(result2.code);
<span class="hljs-comment">// console.log(n(3,7));</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podeu conservar la memòria cau de noms al sistema de fitxers de la manera següent:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</div><span class="hljs-keyword">var</span> cacheFileName = <span class="hljs-string">"/tmp/cache.json"</span>;
<span class="hljs-keyword">var</span> options = {
    <span class="hljs-attr">mangle</span>: {
        <span class="hljs-attr">properties</span>: <span class="hljs-literal">true</span>,<font></font>
    },<font></font>
    <span class="hljs-attr">nameCache</span>: <span class="hljs-built_in">JSON</span>.parse(fs.readFileSync(cacheFileName, <span class="hljs-string">"utf8"</span>))<font></font>
};<font></font>
fs.writeFileSync(<span class="hljs-string">"part1.js"</span>, UglifyJS.minify({
    <span class="hljs-string">"file1.js"</span>: fs.readFileSync(<span class="hljs-string">"file1.js"</span>, <span class="hljs-string">"utf8"</span>),
    <span class="hljs-string">"file2.js"</span>: fs.readFileSync(<span class="hljs-string">"file2.js"</span>, <span class="hljs-string">"utf8"</span>)<font></font>
}, options).code, <span class="hljs-string">"utf8"</span>);<font></font>
fs.writeFileSync(<span class="hljs-string">"part2.js"</span>, UglifyJS.minify({
    <span class="hljs-string">"file3.js"</span>: fs.readFileSync(<span class="hljs-string">"file3.js"</span>, <span class="hljs-string">"utf8"</span>),
    <span class="hljs-string">"file4.js"</span>: fs.readFileSync(<span class="hljs-string">"file4.js"</span>, <span class="hljs-string">"utf8"</span>)<font></font>
}, options).code, <span class="hljs-string">"utf8"</span>);<font></font>
fs.writeFileSync(cacheFileName, <span class="hljs-built_in">JSON</span>.stringify(options.nameCache), <span class="hljs-string">"utf8"</span>);
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple de combinació d' </font></font><code>minify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcions:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</div><span class="hljs-keyword">var</span> code = {
    <span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"function add(first, second) { return first + second; }"</span>,
    <span class="hljs-string">"file2.js"</span>: <span class="hljs-string">"console.log(add(1 + 2, 3 + 4));"</span><font></font>
};<font></font>
<span class="hljs-keyword">var</span> options = {
    <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">global_defs</span>: {
            <span class="hljs-string">"@console.log"</span>: <span class="hljs-string">"alert"</span><font></font>
        },<font></font>
        <span class="hljs-attr">passes</span>: <span class="hljs-number">2</span><font></font>
    },<font></font>
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">beautify</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">preamble</span>: <span class="hljs-string">"/* uglified */"</span><font></font>
    }<font></font>
};<font></font>
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code, options);
<span class="hljs-built_in">console</span>.log(result.code);
<span class="hljs-comment">// /* uglified */</span>
<span class="hljs-comment">// alert(10);"</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per produir avisos:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6</div><span class="hljs-keyword">var</span> code = <span class="hljs-string">"function f(){ var u; return 2 + 3; }"</span>;
<span class="hljs-keyword">var</span> options = { <span class="hljs-attr">warnings</span>: <span class="hljs-literal">true</span> };
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code, options);
<span class="hljs-built_in">console</span>.log(result.error);    <span class="hljs-comment">// runtime error, `undefined` in this case</span>
<span class="hljs-built_in">console</span>.log(result.warnings); <span class="hljs-comment">// [ 'Dropping unused variable u [0:1,18]' ]</span>
<span class="hljs-built_in">console</span>.log(result.code);     <span class="hljs-comment">// function f(){return 5}</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple d'error:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3</div><span class="hljs-keyword">var</span> result = UglifyJS.minify({<span class="hljs-string">"foo.js"</span> : <span class="hljs-string">"if (0) else console.log(1);"</span>});
<span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result.error));
<span class="hljs-comment">// {"message":"Unexpected token: keyword (else)","filename":"foo.js","line":1,"col":7,"pos":7}</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: a diferència </font></font><a href="mailto:`uglify-js@2.x"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de `uglify-js@2.x</font></font></a><code>, the</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3.x`, l'API no genera errors. Per aconseguir un efecte similar, podeu fer el següent:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2</div><span class="hljs-keyword">var</span> result = UglifyJS.minify(code, options);
<span class="hljs-keyword">if</span> (result.error) <span class="hljs-keyword">throw</span> result.error;
</code></pre>
<div name="Minify-options" data-unique="Minify-options"></div><h2 id="Minify-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduïu les opcions</font></font></h2>
<ul>
<li><p><code>warnings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) — passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per tornar els avisos del compressor a </font></font><code>result.warnings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Utilitzeu el valor </font></font><code>"verbose"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per a avisos més detallats.</font></font></p>
</li>
<li><p><code>parse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): passeu un objecte si voleu especificar algunes </font></font><a href="#parse-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcions d'anàlisi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> addicionals .</font></font></p>
</li>
<li><p><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): passa </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per saltar la compressió completament. Passa un objecte per especificar </font></font><a href="#compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcions de compressió</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalitzades .</font></font></p>
</li>
<li><p><code>mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): passa </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per saltar els noms alterats, o passa un objecte per especificar </font></font><a href="#mangle-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de manipulació (vegeu més avall).</font></font></p>
<ul>
<li><code>mangle.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): una subcategoria de l'opció de mangle. Passeu un objecte per especificar </font></font><a href="#mangle-properties-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcions de propietat de mangle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalitzades .</font></font></li>
</ul>
</li>
<li><p><code>output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): passa un objecte si vols especificar </font></font><a href="#output-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcions de sortida</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> addicionals . Els valors per defecte estan optimitzats per a la millor compressió.</font></font></p>
</li>
<li><p><code>sourceMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): passa un objecte si vols especificar
 </font></font><a href="#source-map-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les opcions del mapa font</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</li>
<li><p><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - establiu-lo en </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si voleu habilitar la variable de nivell superior i la manipulació de noms de funció i eliminar les variables i funcions no utilitzades.</font></font></p>
</li>
<li><p><code>nameCache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): passa un objecte buit </font></font><code>{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o un </font></font><code>nameCache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objecte utilitzat anteriorment si vols emmagatzemar a la memòria cau variables alterades i noms de propietats a través de diverses invocacions de </font></font><code>minify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nota: aquesta és una propietat de lectura/escriptura. </font></font><code>minify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">llegirà l'estat de la memòria cau de noms d'aquest objecte i l'actualitzarà durant la minificació perquè l'usuari pugui reutilitzar-lo o persistir externament.</font></font></p>
</li>
<li><p><code>ie8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): configurat </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per admetre IE8.</font></font></p>
</li>
<li><p><code>keep_fnames</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per evitar descartar o alterar els noms de funcions. Útil per al codi que es basa en </font></font><code>Function.prototype.name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
</ul>
<div name="Minify-options-structure" data-unique="Minify-options-structure"></div><h2 id="Minify-options-structure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduïu l'estructura d'opcions</font></font></h2>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</div>{
    <span class="hljs-attr">parse</span>: {
        <span class="hljs-comment">// parse options</span><font></font>
    },<font></font>
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-comment">// compress options</span><font></font>
    },<font></font>
    <span class="hljs-attr">mangle</span>: {
        <span class="hljs-comment">// mangle options</span><font></font>
<font></font>
        <span class="hljs-attr">properties</span>: {
            <span class="hljs-comment">// mangle property options</span><font></font>
        }<font></font>
    },<font></font>
    <span class="hljs-attr">output</span>: {
        <span class="hljs-comment">// output options</span><font></font>
    },<font></font>
    <span class="hljs-attr">sourceMap</span>: {
        <span class="hljs-comment">// source map options</span><font></font>
    },<font></font>
    <span class="hljs-attr">nameCache</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// or specify a name cache object</span>
    <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">ie8</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">warnings</span>: <span class="hljs-literal">false</span>,<font></font>
}<font></font>
</code></pre>
<div name="Source-map-options" data-unique="Source-map-options"></div><h3 id="Source-map-options" class="notranslate">Source map options</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per generar un mapa font:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div><span class="hljs-keyword">var</span> result = UglifyJS.minify({<span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"var a = function() {};"</span>}, {
    <span class="hljs-attr">sourceMap</span>: {
        <span class="hljs-attr">filename</span>: <span class="hljs-string">"out.js"</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">"out.js.map"</span><font></font>
    }<font></font>
});<font></font>
<span class="hljs-built_in">console</span>.log(result.code); <span class="hljs-comment">// minified output</span>
<span class="hljs-built_in">console</span>.log(result.map);  <span class="hljs-comment">// source map</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tingueu en compte que el mapa font no es desa en un fitxer, només es retorna a
 </font></font><code>result.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El valor passat per </font></font><code>sourceMap.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">només s'utilitza per establir
 </font></font><code>//# sourceMappingURL=out.js.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en </font></font><code>result.code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El valor de
 </font></font><code>filename</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">només s'utilitza per establir l' </font></font><code>file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atribut (vegeu </font></font><a href="https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'especificació</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) al fitxer de mapa font.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podeu configurar l'opció </font></font><code>sourceMap.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per ser </font></font><code>"inline"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i el mapa font s'adjuntarà al codi.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">També podeu especificar la propietat sourceRoot que s'inclou al mapa font:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6</div><span class="hljs-keyword">var</span> result = UglifyJS.minify({<span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"var a = function() {};"</span>}, {
    <span class="hljs-attr">sourceMap</span>: {
        <span class="hljs-attr">root</span>: <span class="hljs-string">"http://example.com/src"</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">"out.js.map"</span><font></font>
    }<font></font>
});<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si esteu comprimint JavaScript compilat i teniu un mapa font, podeu utilitzar </font></font><code>sourceMap.content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7</div><span class="hljs-keyword">var</span> result = UglifyJS.minify({<span class="hljs-string">"compiled.js"</span>: <span class="hljs-string">"compiled code"</span>}, {
    <span class="hljs-attr">sourceMap</span>: {
        <span class="hljs-attr">content</span>: <span class="hljs-string">"content from compiled.js.map"</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">"minified.js.map"</span><font></font>
    }<font></font>
});<font></font>
<span class="hljs-comment">// same as before, it returns `code` and `map`</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si utilitzeu la </font></font><code>X-SourceMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capçalera, només podeu ometre </font></font><code>sourceMap.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div name="Parse-options" data-unique="Parse-options"></div><h2 id="Parse-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anàlisi d'opcions</font></font></h2>
<ul>
<li><p><code>bare_returns</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- admet </font></font><code>return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">declaracions de nivell superior</font></font></p>
</li>
<li><p><code>html5_comments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p>
</li>
<li><p><code>shebang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- suport </font></font><code>#!command</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a primera línia</font></font></p>
</li>
</ul>
<div name="Compress-options" data-unique="Compress-options"></div><h2 id="Compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opcions de compressió</font></font></h2>
<ul>
<li><p><code>arguments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- substituïu </font></font><code>arguments[index]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">amb el nom del paràmetre de funció sempre que sigui possible.</font></font></p>
</li>
<li><p><code>booleans</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- diverses optimitzacions per al context booleà, per exemple</font></font><code>!!a ? b : c → a ? b : c</code></p>
</li>
<li><p><code>collapse_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Reduïu les variables no constants d'un sol ús, si els efectes secundaris ho permeten.</font></font></p>
</li>
<li><p><code>comparisons</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- apliqueu certes optimitzacions als nodes binaris, per exemple </font></font><code>!(a &lt;= b) → a &gt; b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, els intents de negar nodes binaris, per exemple,
 </font></font><code>a = !b &amp;&amp; !c &amp;&amp; !d &amp;&amp; !e → a=!(b||c||d||e)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etc.</font></font></p>
</li>
<li><p><code>conditionals</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- aplica optimitzacions per a </font></font><code>if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-s i expressions condicionals</font></font></p>
</li>
<li><p><code>dead_code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- elimina el codi inabastable</font></font></p>
</li>
<li><p><code>drop_console</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passeu </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per descartar les trucades a
 </font></font><code>console.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funcions. Si voleu eliminar una trucada de funció específica, com ara </font></font><code>console.info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i/o conservar els efectes secundaris dels arguments de funció després de deixar anar la trucada de funció, feu servir-lo en el seu </font></font><code>pure_funcs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lloc.</font></font></p>
</li>
<li><p><code>drop_debugger</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) --remove </font></font><code>debugger;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">declaracions</font></font></p>
</li>
<li><p><code>evaluate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- intenta avaluar expressions constants</font></font></p>
</li>
<li><p><code>expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passeu </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per preservar els valors de finalització de les declaracions de terminal sense </font></font><code>return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, per exemple, als bookmarklets.</font></font></p>
</li>
<li><p><code>global_defs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- vegeu la </font></font><a href="#conditional-compilation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compilació condicional</font></font></a></p>
</li>
<li><p><code>hoist_funs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- declaracions de funció de polipast</font></font></p>
</li>
<li><p><code>hoist_props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- eleva les propietats d'objectes constants i literals de matriu a variables regulars subjectes a un conjunt de restriccions. Per exemple:
 </font></font><code>var o={p:1, q:2}; f(o.p, o.q);</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es converteix a </font></font><code>f(1, 2);</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nota: </font></font><code>hoist_props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
funciona millor amb </font></font><code>mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enabled, l' </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció </font></font><code>passes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">establerta a </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o superior i l' </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció </font></font><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">activada.</font></font></p>
</li>
<li><p><code>hoist_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: ) -- </font><font style="vertical-align: inherit;">declaracions </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de polipast (això és </font><font style="vertical-align: inherit;">
per defecte perquè sembla augmentar la mida de la sortida en general)</font></font><code>var</code><font style="vertical-align: inherit;"></font><code>false</code><font style="vertical-align: inherit;"></font></p>
</li>
<li><p><code>if_return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- optimitzacions per si/retorn i si/continua</font></font></p>
</li>
<li><p><code>inline</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- crides en línia per funcionar amb la </font></font><code>return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instrucció simple/:</font></font></p>
<ul>
<li><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- el mateix que</font></font><code>0</code></li>
<li><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--inline desactivat</font></font></li>
<li><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- Funcions senzilles en línia</font></font></li>
<li><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- Funcions en línia amb arguments</font></font></li>
<li><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- Funcions en línia amb arguments i variables</font></font></li>
<li><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- el mateix que</font></font><code>3</code></li>
</ul>
</li>
<li><p><code>join_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: ) -- uneix </font><font style="vertical-align: inherit;">declaracions </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consecutives</font></font><code>var</code><font style="vertical-align: inherit;"></font></p>
</li>
<li><p><code>keep_fargs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Impedeix que el compressor descarti arguments de funció no utilitzats. Ho necessiteu per al codi que es basa en </font></font><code>Function.length</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>keep_fnames</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passeu </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per evitar que el compressor descarti els noms de les funcions. Útil per al codi que es basa en
 </font></font><code>Function.prototype.name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Vegeu també: l' </font></font><code>keep_fnames</code> <a href="#mangle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció de mangle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</li>
<li><p><code>keep_infinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per evitar </font></font><code>Infinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que es comprimeixi a </font></font><code>1/0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, cosa que pot provocar problemes de rendiment a Chrome.</font></font></p>
</li>
<li><p><code>loops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- optimitzacions per a </font></font><code>do</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>while</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bucles quan podem determinar estàticament la condició.</font></font></p>
</li>
<li><p><code>negate_iife</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- nega "Expressions de funció anomenades immediatament" on es descarta el valor de retorn, per evitar els paràmetres que inseriria el generador de codi.</font></font></p>
</li>
<li><p><code>passes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- El nombre màxim de vegades que s'executa comprimir. En alguns casos, més d'una passada condueix a més codi comprimit. Tingues en compte que més passades trigaran més temps.</font></font></p>
</li>
<li><p><code>properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- reescriu l'accés a la propietat utilitzant la notació de punts, per exemple</font></font><code>foo["bar"] → foo.bar</code></p>
</li>
<li><p><code>pure_funcs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Podeu passar una matriu de noms i UglifyJS assumirà que aquestes funcions no produeixen efectes secundaris. PERILL: no comprovarà si el nom s'ha redefinit en l'abast. Un cas d'exemple aquí, per exemple </font></font><code>var q = Math.floor(a/b)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Si la variable </font></font><code>q</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">és no s'utilitza en cap altre lloc, UglifyJS el deixarà caure, però encara conservarà el </font></font><code>Math.floor(a/b)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sense saber què fa. Podeu passar </font></font><code>pure_funcs: [ 'Math.floor' ]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per fer-li saber que aquesta funció no produirà cap efecte secundari, en aquest cas es descartaria tota la declaració. La implementació actual afegeix una mica de sobrecàrrega (la compressió serà més lenta). Assegureu-vos que els símbols de sota </font></font><code>pure_funcs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
també estiguin sota </font></font><code>mangle.reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per evitar que es deformin.</font></font></p>
</li>
<li><p><code>pure_getters</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>"strict"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Si ho </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aproveu, UglifyJS assumirà que l'accés a la propietat de l'objecte (p. ex . </font></font><code>foo.bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>foo["bar"]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) no té cap efecte secundari. Especifiqueu </font></font><code>"strict"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per tractar </font></font><code>foo.bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-lo com a sense efectes secundaris només quan
 </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estigui segur que no es llançarà, és a dir, no. </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>undefined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>reduce_funcs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Permet que les funcions d'un sol ús s'incloguin com a expressions de funció quan es permet una optimització addicional. Habilitada de manera predeterminada. L'opció depèn d' </font></font><code>reduce_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
estar habilitada. Alguns codis s'executen més ràpidament al motor Chrome V8 si aquesta opció està desactivada. No ho fa. impacte negativament en altres navegadors principals.</font></font></p>
</li>
<li><p><code>reduce_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Millora l'optimització de les variables assignades i utilitzades com a valors constants.</font></font></p>
</li>
<li><p><code>sequences</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- uneix declaracions simples consecutives mitjançant l'operador de coma. Es pot establir en un enter positiu per especificar el nombre màxim de seqüències de comes consecutives que es generaran. Si aquesta opció s'estableix en
 , el </font><font style="vertical-align: inherit;">límit </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">predeterminat és </font><font style="vertical-align: inherit;">. Estableix l'opció desactivar </font><font style="vertical-align: inherit;">o </font><font style="vertical-align: inherit;">
desactivar. La </font><font style="vertical-align: inherit;">longitud més petita és </font><font style="vertical-align: inherit;">. Un </font><font style="vertical-align: inherit;">valor de </font><font style="vertical-align: inherit;">
s'assenyala per ser equivalent a i </font><font style="vertical-align: inherit;">com </font><font style="vertical-align: inherit;">a tal significa </font><font style="vertical-align: inherit;">. En rares ocasions, el límit de seqüències per defecte condueix a temps de compressió molt lents, en aquest cas </font><font style="vertical-align: inherit;">es recomana un valor igual o inferior.</font></font><code>sequences</code><font style="vertical-align: inherit;"></font><code>200</code><font style="vertical-align: inherit;"></font><code>false</code><font style="vertical-align: inherit;"></font><code>0</code><font style="vertical-align: inherit;"></font><code>sequences</code><font style="vertical-align: inherit;"></font><code>2</code><font style="vertical-align: inherit;"></font><code>sequences</code><font style="vertical-align: inherit;"></font><code>1</code><font style="vertical-align: inherit;"></font><code>true</code><font style="vertical-align: inherit;"></font><code>200</code><font style="vertical-align: inherit;"></font><code>20</code><font style="vertical-align: inherit;"></font></p>
</li>
<li><p><code>side_effects</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passeu </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per desactivar les funcions que es poden eliminar marcades com a "pures". Una trucada de funció es marca com a "pura" si una anotació de comentari </font></font><code>/*@__PURE__*/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>/*#__PURE__*/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">precedeix immediatament la trucada. Per exemple:</font></font><code>/*@__PURE__*/foo();</code></p>
</li>
<li><p><code>switches</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- desduplica i elimina </font></font><code>switch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les branques inabastables</font></font></p>
</li>
<li><p><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- elimina les funcions sense referència ( </font></font><code>"funcs"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) i/o variables ( </font></font><code>"vars"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) a l'àmbit de nivell superior ( </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per defecte, </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elimina tant les funcions com les variables sense referència)</font></font></p>
</li>
<li><p><code>top_retain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- evita que s'eliminin funcions i variables de nivell superior específiques </font></font><code>unused</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pot ser matriu, separades per comes, ExpExp o funció. Implica </font></font><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p>
</li>
<li><p><code>typeofs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Es transforma </font></font><code>typeof foo == "undefined"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en
 </font></font><code>foo === void 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nota: es recomana establir aquest valor a </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per a IE10 i versions anteriors a causa de problemes coneguts.</font></font></p>
</li>
<li><p><code>unsafe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- apliqueu transformacions "no segures" (debat a continuació)</font></font></p>
</li>
<li><p><code>unsafe_comps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- comprimir expressions com </font></font><code>a &lt;= b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assumir que cap dels operands pot ser (coaccionat a) </font></font><code>NaN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>unsafe_Function</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- comprimeix i manipula </font></font><code>Function(args, code)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
quan tots dos </font></font><code>args</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font><code>code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">són literals de cadena.</font></font></p>
</li>
<li><p><code>unsafe_math</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- optimitzeu expressions numèriques com
 </font></font><code>2 * x * 3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en </font></font><code>6 * x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que poden donar resultats imprecisos en coma flotant.</font></font></p>
</li>
<li><p><code>unsafe_proto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- optimitza expressions com
 </font></font><code>Array.prototype.slice.call(a)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en</font></font><code>[].slice.call(a)</code></p>
</li>
<li><p><code>unsafe_regexp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- permet les substitucions de variables amb
 </font></font><code>RegExp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valors de la mateixa manera que si fossin constants.</font></font></p>
</li>
<li><p><code>unsafe_undefined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- substitueix </font></font><code>void 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si hi ha una variable anomenada </font></font><code>undefined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a l'abast (el nom de la variable es modificarà, normalment es redueix a un sol caràcter)</font></font></p>
</li>
<li><p><code>unused</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- elimina les funcions i variables sense referència (les assignacions simples de variables directes no compten com a referències tret que s'estableixin a </font></font><code>"keep_assign"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p>
</li>
<li><p><code>warnings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- mostra advertències en deixar anar el codi inabastable o declaracions no utilitzades, etc.</font></font></p>
</li>
</ul>
<div name="Mangle-options" data-unique="Mangle-options"></div><h2 id="Mangle-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mangle opcions</font></font></h2>
<ul>
<li><p><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a mangle els noms visibles als àmbits on </font><font style="vertical-align: inherit;">s'utilitzen </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o .</font></font><code>with</code><font style="vertical-align: inherit;"></font></p>
</li>
<li><p><code>keep_fnames</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passeu </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per no manipular els noms de les funcions. Útil per al codi que es basa en </font></font><code>Function.prototype.name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Vegeu també: l' </font></font><code>keep_fnames</code>
<a href="#compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció de comprimir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</li>
<li><p><code>reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passeu una matriu d'identificadors que s'han d'excloure de la manipulació. Exemple: </font></font><code>["foo", "bar"]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a mangle els noms declarats a l'àmbit de nivell superior.</font></font></p>
</li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemples:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5</div><span class="hljs-comment">// test.js</span>
<span class="hljs-keyword">var</span> globalVar;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">funcName</span>(<span class="hljs-params">firstLongName, anotherLongName</span>) </span>{
    <span class="hljs-keyword">var</span> myVariable = firstLongName +  anotherLongName;<font></font>
}<font></font>
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10</div><span class="hljs-keyword">var</span> code = fs.readFileSync(<span class="hljs-string">"test.js"</span>, <span class="hljs-string">"utf8"</span>);<font></font>
<font></font>
UglifyJS.minify(code).code;<font></font>
<span class="hljs-comment">// 'function funcName(a,n){}var globalVar;'</span><font></font>
<font></font>
UglifyJS.minify(code, { <span class="hljs-attr">mangle</span>: { <span class="hljs-attr">reserved</span>: [<span class="hljs-string">'firstLongName'</span>] } }).code;
<span class="hljs-comment">// 'function funcName(firstLongName,a){}var globalVar;'</span><font></font>
<font></font>
UglifyJS.minify(code, { <span class="hljs-attr">mangle</span>: { <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">true</span> } }).code;
<span class="hljs-comment">// 'function n(n,a){}var a;'</span>
</code></pre>
<div name="Mangle-properties-options" data-unique="Mangle-properties-options"></div><h3 id="Mangle-properties-options" class="notranslate">Mangle properties options</h3>
<ul>
<li><p><code>builtins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- S'utilitza </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per permetre la alteració de les propietats DOM integrades. No es recomana anul·lar aquesta configuració.</font></font></p>
</li>
<li><p><code>debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Manipula els noms amb el nom original encara present. Passa una cadena buida </font></font><code>""</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per activar-la o una cadena no buida per establir el sufix de depuració.</font></font></p>
</li>
<li><p><code>keep_quoted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Manipula només els noms de propietats sense cometes.</font></font></p>
</li>
<li><p><code>regex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passeu un literal d'Exp Regual només per modificar els noms de propietats que coincideixen amb l'expressió regular.</font></font></p>
</li>
<li><p><code>reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte: </font></font><code>[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- No modifiqueu els noms de propietat que figuren a la
 </font></font><code>reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">matriu.</font></font></p>
</li>
</ul>
<div name="Output-options" data-unique="Output-options"></div><h2 id="Output-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opcions de sortida</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El generador de codi intenta generar el codi més curt possible de manera predeterminada. Si voleu una sortida embellida, passeu </font></font><code>--beautify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Opcionalment, podeu passar arguments addicionals que controlin la sortida del codi:</font></font></p>
<ul>
<li><p><code>ascii_only</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- escapa els caràcters Unicode a les cadenes i les expressions regulars (afecta les directives amb caràcters no ascii que esdevenen invàlids)</font></font></p>
</li>
<li><p><code>beautify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- si s'ha d'embellir realment la sortida. Passar </font></font><code>-b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ho establirà com a vertader, però és possible que hàgiu de passar </font></font><code>-b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fins i tot quan vulgueu generar codi minificat, per tal d'especificar arguments addicionals, de manera que podeu utilitzar -lo </font></font><code>-b beautify=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per anul·lar-lo.</font></font></p>
</li>
<li><p><code>braces</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- inseriu sempre claus en </font></font><code>if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
 </font></font><code>do</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>while</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sentències, encara que el seu cos sigui una sola sentència.</font></font></p>
</li>
<li><p><code>comments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>"all"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per conservar tots els comentaris, </font></font><code>"some"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per conservar alguns comentaris, una cadena d'expressió regular (p. ex </font></font><code>/^!/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ) o una funció.</font></font></p>
</li>
<li><p><code>indent_level</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p>
</li>
<li><p><code>indent_start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- prefixeu totes les línies amb tants espais</font></font></p>
</li>
<li><p><code>inline_script</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- escapa dels comentaris HTML i de la barra inclinada en les ocurrències d' </font></font><code>&lt;/script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in strings</font></font></p>
</li>
<li><p><code>keep_quoted_props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- quan està activat, impedeix eliminar les cometes dels noms de propietats dels literals d'objectes.</font></font></p>
</li>
<li><p><code>max_line_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- longitud màxima de línia (per a codi llegit)</font></font></p>
</li>
<li><p><code>preamble</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- quan s'ha de passar ha de ser una cadena i s'adjuntarà literalment a la sortida. El mapa d'origen s'ajustarà a aquest text. Es pot utilitzar per inserir un comentari que contingui informació de llicència, per exemple.</font></font></p>
</li>
<li><p><code>preserve_line</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per conservar les línies, però només funciona si </font></font><code>beautify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'estableix en </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>quote_keys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per citar totes les claus en objectes literals</font></font></p>
</li>
<li><p><code>quote_style</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- l'estil de cometes preferit per a les cadenes (també afecta els noms de propietats i les directives citades):</font></font></p>
<ul>
<li><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- prefereix cometes dobles, canvia a cometes simples quan hi ha més cometes dobles a la pròpia cadena. </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">És millor per a la mida de gzip.</font></font></li>
<li><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- utilitzeu sempre cometes simples</font></font></li>
<li><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- utilitzeu sempre cometes dobles</font></font></li>
<li><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- utilitza sempre les cometes originals</font></font></li>
</ul>
</li>
<li><p><code>semicolons</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- declaracions separades amb punt i coma. Si passeu </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sempre que sigui possible, utilitzarem una nova línia en lloc d'un punt i coma, donant lloc a una sortida de codi llegible més llegible (la mida abans de gzip podria ser més petita; la mida després de gzip insignificantment més gran).</font></font></p>
</li>
<li><p><code>shebang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- conserva shebang </font></font><code>#!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">al preàmbul (scripts bash)</font></font></p>
</li>
<li><p><code>webkit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- habiliteu solucions alternatives per als errors de WebKit. Els usuaris de PhantomJS haurien d'establir aquesta opció a </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- només té efecte quan l'embelliment està activat, això especifica una amplada de línia (orientativa) que l'embellidor intentarà obeir. Es refereix a l'amplada del text de la línia (excepte el sagnat). No funciona gaire bé actualment, però fa que el codi generat per UglifyJS sigui més llegible.</font></font></p>
</li>
<li><p><code>wrap_iife</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(per defecte </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- passa </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per embolicar les expressions de funció invocades immediatament. Vegeu
 </font></font><a href="https://github.com/mishoo/UglifyJS2/issues/640"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#640</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> per a més detalls.</font></font></p>
</li>
</ul>
<div name="Miscellaneous" data-unique="Miscellaneous"></div><h1 id="Miscellaneous"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Divers</font></font></h1>
<div name="Keeping-copyright-notices-or-other-comments" data-unique="Keeping-copyright-notices-or-other-comments"></div><h3 id="Keeping-copyright-notices-or-other-comments" class="notranslate">Keeping copyright notices or other comments</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podeu passar </font></font><code>--comments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per retenir certs comentaris a la sortida. De manera predeterminada, mantindrà els comentaris d'estil JSDoc que continguin "@preserve", "@license" o "@cc_on" (compilació condicional per a IE). Podeu passar
 </font></font><code>--comments all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per mantenir tots els comentaris, o una expressió regular de JavaScript vàlida per conservar només els comentaris que coincideixin amb aquesta expressió regular. Per exemple </font></font><code>--comments /^!/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, es mantindran comentaris com </font></font><code>/*! Copyright Notice */</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tingueu en compte, però, que hi pot haver situacions en què es perdin comentaris. Per exemple:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7</div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@preserve </span>Foo Bar */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// this function is never called</span><font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> something();<font></font>
}<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tot i que té "@preserve", el comentari es perdrà perquè la funció interna </font></font><code>g</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(que és el node AST al qual s'adjunta el comentari) és descartada pel compressor com a no referenciada.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Els comentaris més segurs on col·locar la informació dels drets d'autor (o altra informació que s'ha de conservar a la sortida) són els comentaris adjunts als nodes de nivell superior.</font></font></p>
<div name="The-unsafe-compress-option" data-unique="The-unsafe-compress-option"></div><h3 id="The-unsafe-compress-option"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code>unsafe</code> <code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permet algunes transformacions que </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">poden</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> trencar la lògica del codi en determinats casos artificials, però haurien d'estar bé per a la majoria del codi. És possible que vulgueu provar-ho amb el vostre propi codi, hauria de reduir la mida minificada. Això és el que passa quan aquesta marca està activada:</font></font></p>
<ul>
<li><code>new Array(1, 2, 3)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>Array(1, 2, 3)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→</font></font><code>[ 1, 2, 3 ]</code></li>
<li><code>new Object()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→</font></font><code>{}</code></li>
<li><code>String(exp)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>exp.toString()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→</font></font><code>"" + exp</code></li>
<li><code>new Object/RegExp/Function/Error/Array (...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ descartem el</font></font><code>new</code></li>
</ul>
<div name="Conditional-compilation" data-unique="Conditional-compilation"></div><h3 id="Conditional-compilation" class="notranslate">Conditional compilation</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podeu utilitzar l' interruptor </font></font><code>--define</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) per declarar variables globals que UglifyJS suposarà que són constants (tret que es defineixin a l'abast). Per exemple, si ho passeu </font></font><code>--define DEBUG=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, juntament amb l'eliminació del codi mort, UglifyJS descartarà el següent de la sortida:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3</div><span class="hljs-keyword">if</span> (DEBUG) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"debug stuff"</span>);<font></font>
}<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podeu especificar constants imbricades en forma de </font></font><code>--define env.DEBUG=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS advertirà que la condició és sempre falsa i que es deixa anar el codi inabastable; de ​​moment no hi ha cap opció per desactivar només aquest avís específic, podeu passar </font></font><code>warnings=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per desactivar </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tots els</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avisos.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una altra manera de fer-ho és declarar els vostres globals com a constants en un fitxer separat i incloure-los a la compilació. Per exemple, podeu tenir un
 </font></font><code>build/defines.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fitxer amb el següent:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3</div><span class="hljs-keyword">var</span> DEBUG = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> PRODUCTION = <span class="hljs-literal">true</span>;
<span class="hljs-comment">// etc.</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i construïu el vostre codi així:</font></font></p>
<pre><code><div class="line-numbers">1</div>uglifyjs build/defines<span class="hljs-number">.</span><span class="hljs-keyword">js</span> <span class="hljs-keyword">js</span>/foo<span class="hljs-number">.</span><span class="hljs-keyword">js</span> <span class="hljs-keyword">js</span>/bar<span class="hljs-number">.</span><span class="hljs-keyword">js</span>... -c
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS notarà les constants i, com que no es poden alterar, avaluarà les referències a elles al valor en si i deixarà anar el codi inabastable com és habitual. La compilació contindrà les </font></font><code>const</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">declaracions si les feu servir. Si us orienteu a entorns &lt; ES6 que no no és compatible </font></font><code>const</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, amb </font></font><code>var</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">amb </font></font><code>reduce_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(activat per defecte) n'hi hauria prou.</font></font></p>
<div name="Conditional-compilation-API" data-unique="Conditional-compilation-API"></div><h3 id="Conditional-compilation-API" class="notranslate">Conditional compilation API</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">També podeu utilitzar la compilació condicional mitjançant l'API programàtica. Amb la diferència que el nom de la propietat és </font></font><code>global_defs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i és una propietat del compressor:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div><span class="hljs-keyword">var</span> result = UglifyJS.minify(fs.readFileSync(<span class="hljs-string">"input.js"</span>, <span class="hljs-string">"utf8"</span>), {
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">dead_code</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">global_defs</span>: {
            <span class="hljs-attr">DEBUG</span>: <span class="hljs-literal">false</span><font></font>
        }<font></font>
    }<font></font>
});<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per substituir un identificador per una expressió no constant arbitrària, cal prefixar la </font></font><code>global_defs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clau amb </font></font><code>"@"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per indicar a UglifyJS que analitzi el valor com a expressió:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div>UglifyJS.minify(<span class="hljs-string">"alert('hello');"</span>, {
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">global_defs</span>: {
            <span class="hljs-string">"@alert"</span>: <span class="hljs-string">"console.log"</span><font></font>
        }<font></font>
    }<font></font>
}).code;<font></font>
<span class="hljs-comment">// returns: 'console.log("hello");'</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cas contrari, es substituiria com a literal de cadena:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div>UglifyJS.minify(<span class="hljs-string">"alert('hello');"</span>, {
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">global_defs</span>: {
            <span class="hljs-string">"alert"</span>: <span class="hljs-string">"console.log"</span><font></font>
        }<font></font>
    }<font></font>
}).code;<font></font>
<span class="hljs-comment">// returns: '"console.log"("hello");'</span>
</code></pre>
<div name="Using-native-Uglify-AST-with-minify()" data-unique="Using-native-Uglify-AST-with-minify()"></div><h3 id="Using-native-Uglify-AST-with-minify()"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilitzant Uglify AST natiu amb</font></font><code>minify()</code></h3>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13</div><span class="hljs-comment">// example: parse only, produce native Uglify AST</span><font></font>
<font></font>
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code, {
    <span class="hljs-attr">parse</span>: {},
    <span class="hljs-attr">compress</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">mangle</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">ast</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">code</span>: <span class="hljs-literal">false</span>  <span class="hljs-comment">// optional - faster if false</span><font></font>
    }<font></font>
});<font></font>
<font></font>
<span class="hljs-comment">// result.ast contains native Uglify AST</span>
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14</div><span class="hljs-comment">// example: accept native Uglify AST input and then compress and mangle</span>
<span class="hljs-comment">//          to produce both code and native AST.</span><font></font>
<font></font>
<span class="hljs-keyword">var</span> result = UglifyJS.minify(ast, {
    <span class="hljs-attr">compress</span>: {},
    <span class="hljs-attr">mangle</span>: {},
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">ast</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">code</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// optional - faster if false</span><font></font>
    }<font></font>
});<font></font>
<font></font>
<span class="hljs-comment">// result.ast contains native Uglify AST</span>
<span class="hljs-comment">// result.code contains the minified code in string form.</span>
</code></pre>
<div name="Working-with-Uglify-AST" data-unique="Working-with-Uglify-AST"></div><h3 id="Working-with-Uglify-AST" class="notranslate">Working with Uglify AST</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La transversal i la transformació de l'AST nadiu es poden realitzar mitjançant
 </font></font><a href="https://github.com/mishoo/UglifyJS2/blob/master/lib/ast.js"><code>TreeWalker</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i
 </font></font><a href="https://github.com/mishoo/UglifyJS2/blob/master/lib/transform.js"><code>TreeTransformer</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
respectivament.</font></font></p>
<div name="ESTree-/-SpiderMonkey-AST" data-unique="ESTree-/-SpiderMonkey-AST"></div><h3 id="ESTree-/-SpiderMonkey-AST" class="notranslate">ESTree / SpiderMonkey AST</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'UglifyJS té el seu propi format d'arbre de sintaxi abstracta; per
 </font></font><a href="http://lisperator.net/blog/uglifyjs-why-not-switching-to-spidermonkey-ast/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">motius pràctics,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
no podem canviar fàcilment a utilitzar l'AST de SpiderMonkey internament. Tanmateix, ara UglifyJS té un convertidor que pot importar un AST de SpiderMonkey.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per exemple , </font></font><a href="https://github.com/ternjs/acorn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acorn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> és un analitzador súper ràpid que produeix un SpiderMonkey AST. Té una petita utilitat CLI que analitza un fitxer i aboca l'AST en JSON a la sortida estàndard. Per utilitzar UglifyJS per alterar i comprimir-ho:</font></font></p>
<pre><code><div class="line-numbers">1</div>acorn file.js <span class="hljs-string">| uglifyjs -p spidermonkey -m -c</span>
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code>-p spidermonkey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció indica a UglifyJS que tots els fitxers d'entrada no són JavaScript, sinó codi JS descrit a SpiderMonkey AST en JSON. Per tant, no utilitzem el nostre propi analitzador en aquest cas, sinó que només transformem aquest AST en el nostre AST intern.</font></font></p>
<div name="Use-Acorn-for-parsing" data-unique="Use-Acorn-for-parsing"></div><h3 id="Use-Acorn-for-parsing" class="notranslate">Use Acorn for parsing</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Més per diversió, he afegit l' </font></font><code>-p acorn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opció que utilitzarà Acorn per fer tota l'anàlisi. Si passeu aquesta opció, UglifyJS farà </font></font><code>require("acorn")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acorn és molt ràpid (per exemple, 250 ms en lloc de 380 ms en algun codi de 650 K), però convertir l'arbre SpiderMonkey que produeix Acorn triga 150 ms, de manera que en total és una mica més que utilitzar l'analitzador propi d'UglifyJS.</font></font></p>
<div name="Uglify-Fast-Minify-Mode" data-unique="Uglify-Fast-Minify-Mode"></div><h3 id="Uglify-Fast-Minify-Mode" class="notranslate">Uglify Fast Minify Mode</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No és ben conegut, però l'eliminació d'espais en blanc i la manipulació de símbols representen el 95% de la reducció de la mida del codi minificat per a la majoria de les transformacions de codi JavaScript, no elaborades. Es pot desactivar simplement </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per accelerar les compilacions d'Uglify de 3 a 4 vegades </font></font><code>mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. L'únic mode Uglify té velocitats de minimització i mides de gzip comparables a
 </font></font><a href="https://www.npmjs.com/package/butternut"><code>butternut</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d3.js</font></font></th>
<th style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduir la mida</font></font></th>
<th style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mida gzip</font></font></th>
<th style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduir el temps (segons)</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">original</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">451.131</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">108.733</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
</tr>
<tr>
<td><a href="mailto:uglify-js@3.0.24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uglify-js@3.0.24</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mangle=fals, comprimir=fals</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">316.600</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">85.245</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0,70</font></font></td>
</tr>
<tr>
<td><a href="mailto:uglify-js@3.0.24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uglify-js@3.0.24</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mangle=true, comprimir=fals</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">220.216</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72.730</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.13</font></font></td>
</tr>
<tr>
<td><a href="mailto:butternut@0.4.6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">butternut@0.4.6</font></font></a></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">217.568</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72.738</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.41</font></font></td>
</tr>
<tr>
<td><a href="mailto:uglify-js@3.0.24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uglify-js@3.0.24</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mangle=true, comprimir=true</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">212.511</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71.560</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.36</font></font></td>
</tr>
<tr>
<td><a href="mailto:babili@0.1.4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">babili@0.1.4</font></font></a></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">210.713</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72.140</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.64</font></font></td>
</tr>
</tbody>
</table>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per habilitar el mode de minimització ràpida des de la CLI, feu servir:</font></font></p>
<pre><code><div class="line-numbers">1</div>uglifyjs <span class="hljs-built_in">file</span>.js -m
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per habilitar el mode de minimització ràpida amb l'API, feu servir:</font></font></p>
<pre><code class="lang-js"><div class="line-numbers">1</div>UglifyJS.minify(code, { <span class="hljs-attr">compress</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">mangle</span>: <span class="hljs-literal">true</span> });
</code></pre>
<h4 id="Source-maps-and-debugging"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapes font i depuració</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se sap que diverses </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transformacions que simplifiquen, reorganitzen, en línia i eliminen el codi tenen un efecte advers en la depuració amb mapes font. Això s'espera ja que el codi s'optimitza i sovint els mapes no són possibles perquè algun codi ja no existeix. Per a la màxima fidelitat a la font. la depuració de mapes desactiveu l'opció Uglify </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i només feu servir </font></font><code>mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div name="Compiler-assumptions" data-unique="Compiler-assumptions"></div><h3 id="Compiler-assumptions" class="notranslate">Compiler assumptions</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Per permetre millors optimitzacions, el compilador fa diversos supòsits:</font></font></p>
<ul>
<li><code>.toString()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font><code>.valueOf()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no tenen efectes secundaris, i per als objectes integrats no s'han anul·lat.</font></font></li>
<li><code>undefined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>NaN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font><code>Infinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no s'han redefinit externament.</font></font></li>
<li><code>arguments.callee</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>arguments.caller</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font><code>Function.prototype.caller</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no s'utilitzen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El codi no espera que el contingut </font></font><code>Function.prototype.toString()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o
 </font></font><code>Error.prototype.stack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sigui res en particular.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenir i establir propietats en un objecte senzill no provoca altres efectes secundaris (utilitzar </font></font><code>.watch()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>Proxy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les propietats de l'objecte es poden afegir, eliminar i modificar (no s'impedeix amb
 </font><font style="vertical-align: inherit;">, </font></font><code>Object.defineProperty()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Object.defineProperties()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>Object.freeze()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)
 </font><font style="vertical-align: inherit;">.</font></font><code>Object.preventExtensions()</code><font style="vertical-align: inherit;"></font><code>Object.seal()</code><font style="vertical-align: inherit;"></font></li>
</ul>
 </div><div class="sidebar hidden-sm hidden-xs hidden-md"><div id="toc" class="tocify"></div></div></div></div><div class="footer"><div class="container"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">© Copyright 2012-2021 fibjs.org | Doneu- </font></font><a href="../../../support.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nos suport</font></font></a></div></div><a id="back-to-top" href="#" class="btn btn-default btn-lg back-to-top" role="button" title="" data-toggle="tooltip" data-placement="left" data-original-title="Click to return on the top page" aria-describedby="tooltip159120"><span class="glyphicon glyphicon-chevron-up"></span></a><div class="tooltip fade left in" role="tooltip" id="tooltip159120" style="top: 0px; left: -190px; display: block;"><div class="tooltip-arrow" style="top: 0%;"></div><div class="tooltip-inner"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feu clic per tornar a la pàgina superior</font></font></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript" src="../../../../js/common.js"></script><script type="text/javascript" src="../../../../js/docs.js"></script></body></html>