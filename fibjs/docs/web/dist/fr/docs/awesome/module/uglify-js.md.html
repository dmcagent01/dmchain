<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><link rel="icon" type="image/png" href="../../../../imgs/icon.png"><title>UglifyJS 3 - JavaScript sur fibre</title><link href="../../../../css/common.css" rel="stylesheet"><link href="../../../../css/docs.css" rel="stylesheet"></head><body><div class="navbar navbar-default navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basculer la navigation</font></font></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="../../../index.html"><img src="../../../../imgs/logo-dark.png"></a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right notranslate"><li><a href="../../../index.html">HOME</a></li><li><a href="../../guide/readme.md.html">GUIDE</a></li><li><a href="../../manual/module/readme.md.html">MODULE</a></li><li><a href="../../manual/object/readme.md.html">OBJECT</a></li><li><a href="../readme.md.html">AWESOME</a></li><li><a href="../../../../download/index.html">DOWNLOAD</a></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">LANGUAGE</a><div class="dropdown-menu"><a href="../../../../docs/awesome/module/uglify-js.md.html">中文</a> <a href="../../../../ca/docs/awesome/module/uglify-js.md.html">Catalan</a> <a href="../../../../de/docs/awesome/module/uglify-js.md.html">Deutsch</a> <a href="../../../../en/docs/awesome/module/uglify-js.md.html">English</a> <a href="../../../../es/docs/awesome/module/uglify-js.md.html">Español</a> <a href="../../../../fr/docs/awesome/module/uglify-js.md.html">Français</a> <a href="../../../../gl/docs/awesome/module/uglify-js.md.html">Galego</a> <a href="../../../../it/docs/awesome/module/uglify-js.md.html">Italiano</a> <a href="../../../../ru/docs/awesome/module/uglify-js.md.html">Русский</a> <a href="../../../../ja/docs/awesome/module/uglify-js.md.html">日本語</a> <a href="../../../../ko/docs/awesome/module/uglify-js.md.html">한국어</a> <a href="../../../../zh-tw/docs/awesome/module/uglify-js.md.html">繁體中文</a></div></li></ul></div></div></div><div class="band"><div class="container"><span class="group"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Super module communautaire</font></font></span><div class="search"><span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"><input type="text" class="searchbox ds-input" placeholder="Chercher" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="entrée de recherche" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="position: relative; vertical-align: top;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Avenir, &quot;Segoe UI&quot;, Arial, &quot;Hiragino Sans GB&quot;, 冬青黑, &quot;Microsoft YaHei&quot;, 微软雅黑, SimSun, 宋体, Helvetica, Tahoma, &quot;Arial sans-serif&quot;; font-size: 16px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;"><div class="ds-dataset-1"></div></span></span></div></div></div><div class="container"><ol class="breadcrumb"><li><a href="../../../index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">page de garde</font></font></a></li><li><a href="../readme.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module communautaire</font></font></a></li><li class="active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS 3</font></font></li></ol></div><div class="page-body"><div class="container"><div class="sidebar hidden-xs"><div class="panel-group" id="accordion" role="tablist">  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_guide" aria-controls="collapse_guide"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guide de développement</font></font></a></h4></div><div id="collapse_guide" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../guide/about.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que fibjs?</font></font></a></li>
<li><a href="../../guide/install.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer l'environnement d'exécution</font></font></a></li>
<li><a href="../../guide/hello.md.html" class="notranslate">hello, world</a></li>
<li><a href="../../guide/test.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une belle vie commence par un test</font></font></a></li>
<li><a href="../../guide/profiler.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trouvez le tueur de performance</font></font></a></li>
<li><a href="../../guide/server-hot-update.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mise à jour à chaud du module serveur</font></font></a></li>
<li><a href="../../guide/host-routes.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Routage de nom de domaine</font></font></a></li>
<li><a href="../../guide/x509.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation des certificats X509 dans fibjs</font></font></a></li>
<li><a href="../../guide/contribute.md.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ajouter un module natif</font></font></a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_module" aria-controls="collapse_module"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module de base</font></font></a></h4></div><div id="collapse_module" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../manual/module/ifs/assert.md.html" class="notranslate">assert</a></li>
<li><a href="../../manual/module/ifs/base32.md.html" class="notranslate">base32</a></li>
<li><a href="../../manual/module/ifs/base58.md.html" class="notranslate">base58</a></li>
<li><a href="../../manual/module/ifs/base64.md.html" class="notranslate">base64</a></li>
<li><a href="../../manual/module/ifs/child_process.md.html" class="notranslate">child_process</a></li>
<li><a href="../../manual/module/ifs/console.md.html" class="notranslate">console</a></li>
<li><a href="../../manual/module/ifs/constants.md.html" class="notranslate">constants</a></li>
<li><a href="../../manual/module/ifs/coroutine.md.html" class="notranslate">coroutine</a></li>
<li><a href="../../manual/module/ifs/crypto.md.html" class="notranslate">crypto</a></li>
<li><a href="../../manual/module/ifs/db.md.html" class="notranslate">db</a></li>
<li><a href="../../manual/module/ifs/dgram.md.html" class="notranslate">dgram</a></li>
<li><a href="../../manual/module/ifs/dns.md.html" class="notranslate">dns</a></li>
<li><a href="../../manual/module/ifs/encoding.md.html" class="notranslate">encoding</a></li>
<li><a href="../../manual/module/ifs/fs.md.html" class="notranslate">fs</a></li>
<li><a href="../../manual/module/ifs/fs_constants.md.html" class="notranslate">fs_constants</a></li>
<li><a href="../../manual/module/ifs/gd.md.html" class="notranslate">gd</a></li>
<li><a href="../../manual/module/ifs/global.md.html" class="notranslate">global</a></li>
<li><a href="../../manual/module/ifs/gui.md.html" class="notranslate">gui</a></li>
<li><a href="../../manual/module/ifs/hash.md.html" class="notranslate">hash</a></li>
<li><a href="../../manual/module/ifs/hex.md.html" class="notranslate">hex</a></li>
<li><a href="../../manual/module/ifs/http.md.html" class="notranslate">http</a></li>
<li><a href="../../manual/module/ifs/iconv.md.html" class="notranslate">iconv</a></li>
<li><a href="../../manual/module/ifs/io.md.html" class="notranslate">io</a></li>
<li><a href="../../manual/module/ifs/json.md.html" class="notranslate">json</a></li>
<li><a href="../../manual/module/ifs/mq.md.html" class="notranslate">mq</a></li>
<li><a href="../../manual/module/ifs/msgpack.md.html" class="notranslate">msgpack</a></li>
<li><a href="../../manual/module/ifs/multibase.md.html" class="notranslate">multibase</a></li>
<li><a href="../../manual/module/ifs/net.md.html" class="notranslate">net</a></li>
<li><a href="../../manual/module/ifs/os.md.html" class="notranslate">os</a></li>
<li><a href="../../manual/module/ifs/path.md.html" class="notranslate">path</a></li>
<li><a href="../../manual/module/ifs/path_posix.md.html" class="notranslate">path_posix</a></li>
<li><a href="../../manual/module/ifs/path_win32.md.html" class="notranslate">path_win32</a></li>
<li><a href="../../manual/module/ifs/perf_hooks.md.html" class="notranslate">perf_hooks</a></li>
<li><a href="../../manual/module/ifs/performance.md.html" class="notranslate">performance</a></li>
<li><a href="../../manual/module/ifs/process.md.html" class="notranslate">process</a></li>
<li><a href="../../manual/module/ifs/profiler.md.html" class="notranslate">profiler</a></li>
<li><a href="../../manual/module/ifs/punycode.md.html" class="notranslate">punycode</a></li>
<li><a href="../../manual/module/ifs/querystring.md.html" class="notranslate">querystring</a></li>
<li><a href="../../manual/module/ifs/registry.md.html" class="notranslate">registry</a></li>
<li><a href="../../manual/module/ifs/ssl.md.html" class="notranslate">ssl</a></li>
<li><a href="../../manual/module/ifs/string_decoder.md.html" class="notranslate">string_decoder</a></li>
<li><a href="../../manual/module/ifs/test.md.html" class="notranslate">test</a></li>
<li><a href="../../manual/module/ifs/timers.md.html" class="notranslate">timers</a></li>
<li><a href="../../manual/module/ifs/tty.md.html" class="notranslate">tty</a></li>
<li><a href="../../manual/module/ifs/url.md.html" class="notranslate">url</a></li>
<li><a href="../../manual/module/ifs/util.md.html" class="notranslate">util</a></li>
<li><a href="../../manual/module/ifs/uuid.md.html" class="notranslate">uuid</a></li>
<li><a href="../../manual/module/ifs/vm.md.html" class="notranslate">vm</a></li>
<li><a href="../../manual/module/ifs/worker_threads.md.html" class="notranslate">worker_threads</a></li>
<li><a href="../../manual/module/ifs/ws.md.html" class="notranslate">ws</a></li>
<li><a href="../../manual/module/ifs/xml.md.html" class="notranslate">xml</a></li>
<li><a href="../../manual/module/ifs/zip.md.html" class="notranslate">zip</a></li>
<li><a href="../../manual/module/ifs/zlib.md.html" class="notranslate">zlib</a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_object" aria-controls="collapse_object"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objets intégrés</font></font></a></h4></div><div id="collapse_object" class="panel-collapse collapse " aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="../../manual/object/ifs/buffer.md.html" class="notranslate">Buffer</a></li>
<li><a href="../../manual/object/ifs/bufferedstream.md.html" class="notranslate">BufferedStream</a></li>
<li><a href="../../manual/object/ifs/chain.md.html" class="notranslate">Chain</a></li>
<li><a href="../../manual/object/ifs/childprocess.md.html" class="notranslate">ChildProcess</a></li>
<li><a href="../../manual/object/ifs/cipher.md.html" class="notranslate">Cipher</a></li>
<li><a href="../../manual/object/ifs/condition.md.html" class="notranslate">Condition</a></li>
<li><a href="../../manual/object/ifs/dbconnection.md.html" class="notranslate">DbConnection</a></li>
<li><a href="../../manual/object/ifs/dgramsocket.md.html" class="notranslate">DgramSocket</a></li>
<li><a href="../../manual/object/ifs/digest.md.html" class="notranslate">Digest</a></li>
<li><a href="../../manual/object/ifs/event.md.html" class="notranslate">Event</a></li>
<li><a href="../../manual/object/ifs/eventemitter.md.html" class="notranslate">EventEmitter</a></li>
<li><a href="../../manual/object/ifs/fswatcher.md.html" class="notranslate">FSWatcher</a></li>
<li><a href="../../manual/object/ifs/fiber.md.html" class="notranslate">Fiber</a></li>
<li><a href="../../manual/object/ifs/file.md.html" class="notranslate">File</a></li>
<li><a href="../../manual/object/ifs/handler.md.html" class="notranslate">Handler</a></li>
<li><a href="../../manual/object/ifs/heapgraphedge.md.html" class="notranslate">HeapGraphEdge</a></li>
<li><a href="../../manual/object/ifs/heapgraphnode.md.html" class="notranslate">HeapGraphNode</a></li>
<li><a href="../../manual/object/ifs/heapsnapshot.md.html" class="notranslate">HeapSnapshot</a></li>
<li><a href="../../manual/object/ifs/httpclient.md.html" class="notranslate">HttpClient</a></li>
<li><a href="../../manual/object/ifs/httpcollection.md.html" class="notranslate">HttpCollection</a></li>
<li><a href="../../manual/object/ifs/httpcookie.md.html" class="notranslate">HttpCookie</a></li>
<li><a href="../../manual/object/ifs/httphandler.md.html" class="notranslate">HttpHandler</a></li>
<li><a href="../../manual/object/ifs/httpmessage.md.html" class="notranslate">HttpMessage</a></li>
<li><a href="../../manual/object/ifs/httprepeater.md.html" class="notranslate">HttpRepeater</a></li>
<li><a href="../../manual/object/ifs/httprequest.md.html" class="notranslate">HttpRequest</a></li>
<li><a href="../../manual/object/ifs/httpresponse.md.html" class="notranslate">HttpResponse</a></li>
<li><a href="../../manual/object/ifs/httpserver.md.html" class="notranslate">HttpServer</a></li>
<li><a href="../../manual/object/ifs/httpuploaddata.md.html" class="notranslate">HttpUploadData</a></li>
<li><a href="../../manual/object/ifs/httpsserver.md.html" class="notranslate">HttpsServer</a></li>
<li><a href="../../manual/object/ifs/image.md.html" class="notranslate">Image</a></li>
<li><a href="../../manual/object/ifs/iterator.md.html" class="notranslate">Iterator</a></li>
<li><a href="../../manual/object/ifs/leveldb.md.html" class="notranslate">LevelDB</a></li>
<li><a href="../../manual/object/ifs/lock.md.html" class="notranslate">Lock</a></li>
<li><a href="../../manual/object/ifs/lrucache.md.html" class="notranslate">LruCache</a></li>
<li><a href="../../manual/object/ifs/memorystream.md.html" class="notranslate">MemoryStream</a></li>
<li><a href="../../manual/object/ifs/message.md.html" class="notranslate">Message</a></li>
<li><a href="../../manual/object/ifs/mongocollection.md.html" class="notranslate">MongoCollection</a></li>
<li><a href="../../manual/object/ifs/mongocursor.md.html" class="notranslate">MongoCursor</a></li>
<li><a href="../../manual/object/ifs/mongodb.md.html" class="notranslate">MongoDB</a></li>
<li><a href="../../manual/object/ifs/mongoid.md.html" class="notranslate">MongoID</a></li>
<li><a href="../../manual/object/ifs/mysql.md.html" class="notranslate">MySQL</a></li>
<li><a href="../../manual/object/ifs/odbc.md.html" class="notranslate">Odbc</a></li>
<li><a href="../../manual/object/ifs/pkey.md.html" class="notranslate">PKey</a></li>
<li><a href="../../manual/object/ifs/rangestream.md.html" class="notranslate">RangeStream</a></li>
<li><a href="../../manual/object/ifs/redis.md.html" class="notranslate">Redis</a></li>
<li><a href="../../manual/object/ifs/redishash.md.html" class="notranslate">RedisHash</a></li>
<li><a href="../../manual/object/ifs/redislist.md.html" class="notranslate">RedisList</a></li>
<li><a href="../../manual/object/ifs/redisset.md.html" class="notranslate">RedisSet</a></li>
<li><a href="../../manual/object/ifs/redissortedset.md.html" class="notranslate">RedisSortedSet</a></li>
<li><a href="../../manual/object/ifs/routing.md.html" class="notranslate">Routing</a></li>
<li><a href="../../manual/object/ifs/sqlite.md.html" class="notranslate">SQLite</a></li>
<li><a href="../../manual/object/ifs/sandbox.md.html" class="notranslate">SandBox</a></li>
<li><a href="../../manual/object/ifs/seekablestream.md.html" class="notranslate">SeekableStream</a></li>
<li><a href="../../manual/object/ifs/semaphore.md.html" class="notranslate">Semaphore</a></li>
<li><a href="../../manual/object/ifs/service.md.html" class="notranslate">Service</a></li>
<li><a href="../../manual/object/ifs/smtp.md.html" class="notranslate">Smtp</a></li>
<li><a href="../../manual/object/ifs/socket.md.html" class="notranslate">Socket</a></li>
<li><a href="../../manual/object/ifs/sslhandler.md.html" class="notranslate">SslHandler</a></li>
<li><a href="../../manual/object/ifs/sslserver.md.html" class="notranslate">SslServer</a></li>
<li><a href="../../manual/object/ifs/sslsocket.md.html" class="notranslate">SslSocket</a></li>
<li><a href="../../manual/object/ifs/stat.md.html" class="notranslate">Stat</a></li>
<li><a href="../../manual/object/ifs/statswatcher.md.html" class="notranslate">StatsWatcher</a></li>
<li><a href="../../manual/object/ifs/stream.md.html" class="notranslate">Stream</a></li>
<li><a href="../../manual/object/ifs/stringdecoder.md.html" class="notranslate">StringDecoder</a></li>
<li><a href="../../manual/object/ifs/ttyinputstream.md.html" class="notranslate">TTYInputStream</a></li>
<li><a href="../../manual/object/ifs/ttyoutputstream.md.html" class="notranslate">TTYOutputStream</a></li>
<li><a href="../../manual/object/ifs/tcpserver.md.html" class="notranslate">TcpServer</a></li>
<li><a href="../../manual/object/ifs/textdecoder.md.html" class="notranslate">TextDecoder</a></li>
<li><a href="../../manual/object/ifs/textencoder.md.html" class="notranslate">TextEncoder</a></li>
<li><a href="../../manual/object/ifs/timer.md.html" class="notranslate">Timer</a></li>
<li><a href="../../manual/object/ifs/urlobject.md.html" class="notranslate">UrlObject</a></li>
<li><a href="../../manual/object/ifs/websocket.md.html" class="notranslate">WebSocket</a></li>
<li><a href="../../manual/object/ifs/websocketmessage.md.html" class="notranslate">WebSocketMessage</a></li>
<li><a href="../../manual/object/ifs/webview.md.html" class="notranslate">WebView</a></li>
<li><a href="../../manual/object/ifs/worker.md.html" class="notranslate">Worker</a></li>
<li><a href="../../manual/object/ifs/x509cert.md.html" class="notranslate">X509Cert</a></li>
<li><a href="../../manual/object/ifs/x509crl.md.html" class="notranslate">X509Crl</a></li>
<li><a href="../../manual/object/ifs/x509req.md.html" class="notranslate">X509Req</a></li>
<li><a href="../../manual/object/ifs/xmlattr.md.html" class="notranslate">XmlAttr</a></li>
<li><a href="../../manual/object/ifs/xmlcdatasection.md.html" class="notranslate">XmlCDATASection</a></li>
<li><a href="../../manual/object/ifs/xmlcharacterdata.md.html" class="notranslate">XmlCharacterData</a></li>
<li><a href="../../manual/object/ifs/xmlcomment.md.html" class="notranslate">XmlComment</a></li>
<li><a href="../../manual/object/ifs/xmldocument.md.html" class="notranslate">XmlDocument</a></li>
<li><a href="../../manual/object/ifs/xmldocumenttype.md.html" class="notranslate">XmlDocumentType</a></li>
<li><a href="../../manual/object/ifs/xmlelement.md.html" class="notranslate">XmlElement</a></li>
<li><a href="../../manual/object/ifs/xmlnamednodemap.md.html" class="notranslate">XmlNamedNodeMap</a></li>
<li><a href="../../manual/object/ifs/xmlnode.md.html" class="notranslate">XmlNode</a></li>
<li><a href="../../manual/object/ifs/xmlnodelist.md.html" class="notranslate">XmlNodeList</a></li>
<li><a href="../../manual/object/ifs/xmlprocessinginstruction.md.html" class="notranslate">XmlProcessingInstruction</a></li>
<li><a href="../../manual/object/ifs/xmltext.md.html" class="notranslate">XmlText</a></li>
<li><a href="../../manual/object/ifs/zipfile.md.html" class="notranslate">ZipFile</a></li>
<li><a href="../../manual/object/ifs/object.md.html" class="notranslate">object</a></li>
</ul>
 </div></div></div>  <div class="panel"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse_awesome" aria-controls="collapse_awesome"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module communautaire</font></font></a></h4></div><div id="collapse_awesome" class="panel-collapse collapse in" aria-labelledby="headingOne"><div class="panel-body"> <ul>
<li><a href="fib-session.md.html" class="notranslate">fib-session</a></li>
<li><a href="fib-pool.md.html" class="notranslate">fib-pool</a></li>
<li><a href="fib-orm.md.html" class="notranslate">fib-orm</a></li>
<li><a href="fib-app.md.html" class="notranslate">fib-app</a></li>
<li><a href="fib-kv.md.html" class="notranslate">fib-kv</a></li>
<li><a href="fib-rpc.md.html" class="notranslate">fib-rpc</a></li>
<li><a href="fib-qr.md.html" class="notranslate">fib-qr</a></li>
<li><a href="fib-pug.md.html" class="notranslate">fib-pug</a></li>
<li><a href="ejs.md.html" class="notranslate">ejs</a></li>
<li><a href="juicer.md.html" class="notranslate">Juicer</a></li>
<li><a href="highlight.js.md.html" class="notranslate">highlight.js</a></li>
<li><a href="marked.md.html" class="notranslate">marked</a></li>
<li><a href="node-cron.md.html" class="notranslate">node-cron</a></li>
<li><a href="debug.md.html" class="notranslate">debug</a></li>
<li><a href="benchmark.js.md.html" class="notranslate">benchmark.js</a></li>
<li><a href="sinon.md.html" class="notranslate">sinon</a></li>
<li><a href="node-mime.md.html" class="notranslate">node-mime</a></li>
<li><a href="validatorjs.md.html" class="notranslate">validatorjs</a></li>
<li><a href="superstruct.md.html" class="notranslate">superstruct</a></li>
<li><a href="cluster-server.md.html" class="notranslate">cluster-server</a></li>
<li><a href="synaptic.md.html" class="notranslate">synaptic</a></li>
<li><a href="source-map.md.html" class="notranslate">source-map</a></li>
<li><a href="json-format.md.html" class="notranslate">json-format</a></li>
<li><a href="viz.js.md.html" class="notranslate">viz.js</a></li>
<li><a href="nomnoml.md.html" class="notranslate">nomnoml</a></li>
<li><a href="pegjs.md.html" class="notranslate">pegjs</a></li>
<li class="active"><a href="uglify-js.md.html" class="notranslate">uglify-js</a></li>
<li><a href="js-beautify.md.html" class="notranslate">js-beautify</a></li>
<li><a href="chalk-animation.md.html" class="notranslate">chalk-animation</a></li>
<li><a href="jsrsasign.md.html" class="notranslate">jsrsasign</a></li>
<li><a href="crypto-js.md.html" class="notranslate">crypto-js</a></li>
<li><a href="ascii-table.md.html" class="notranslate">ascii-table</a></li>
<li><a href="logstream.md.html" class="notranslate">logstream</a></li>
<li><a href="ci.md.html" class="notranslate">ci</a></li>
<li><a href="fs-readdir-recursive.md.html" class="notranslate">fs-readdir-recursive</a></li>
<li><a href="mkdirp.md.html" class="notranslate">mkdirp</a></li>
<li><a href="rmdirr.md.html" class="notranslate">rmdirr</a></li>
<li><a href="detect-port.md.html" class="notranslate">detect-port</a></li>
<li><a href="bitcoinjs-lib.md.html" class="notranslate">bitcoinjs-lib</a></li>
<li><a href="rakuten.md.html" class="notranslate">Rakuten</a></li>
</ul>
 </div></div></div>  </div></div><div class="content"><div class="social-share share-component" data-sites="weibo,twitter" data-description="分享"></div> <div name="UglifyJS-3" data-unique="UglifyJS-3"></div><h1 id="UglifyJS-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS 3</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS est une boîte à outils d'analyseur, de minification, de compression et d'embellissement JavaScript.</font></font></p>
<h4 id="Note:"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noter:</font></font></h4>
<ul>
<li><strong><code>uglify-js@3</code><font style="vertical-align: inherit;"></font><a href="#api-reference"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a une API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et une </font></font><a href="#command-line-usage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> simplifiées </font><font style="vertical-align: inherit;">qui ne sont pas rétrocompatibles avec</font></font><a href="https://github.com/mishoo/UglifyJS2/tree/v2.x"><code>uglify-js@2</code></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La documentation des versions d'UglifyJS </font></font><code>2.x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est disponible </font></font><a href="https://github.com/mishoo/UglifyJS2/tree/v2.x"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><code>uglify-js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne prend en charge que JavaScript (ECMAScript 5).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour minifier ECMAScript 2015 ou supérieur, transpilez à l'aide d'outils comme </font></font><a href="https://babeljs.io/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Babel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul>
<div name="Install" data-unique="Install"></div><h2 id="Install"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assurez-vous d'abord d'avoir installé la dernière version de </font></font><a href="http://nodejs.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">node.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
(vous devrez peut-être redémarrer votre ordinateur après cette étape).</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À partir de NPM pour une utilisation en tant qu'application de ligne de commande&nbsp;:</font></font></p>
<pre><code><div class="line-numbers">1</div>npm <span class="hljs-keyword">install </span>uglify-<span class="hljs-keyword">js </span>-g
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De NPM pour une utilisation programmatique&nbsp;:</font></font></p>
<pre><code><div class="line-numbers">1</div>npm <span class="hljs-keyword">install</span> uglify-js
</code></pre><div name="Command-line-usage" data-unique="Command-line-usage"></div><h1 id="Command-line-usage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation de la ligne de commande</font></font></h1>
<pre><code><div class="line-numbers">1</div>uglifyjs [<span class="hljs-built_in">input</span> <span class="hljs-keyword">files</span>] [<span class="hljs-keyword">options</span>]
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS peut accepter plusieurs fichiers d'entrée. Il est recommandé de transmettre d'abord les fichiers d'entrée, puis les options. UglifyJS analysera les fichiers d'entrée dans l'ordre et appliquera les options de compression. Les fichiers sont analysés dans la même portée globale, c'est-à-dire une référence d'un fichier à une variable/fonction déclarée dans un autre fichier correspondra correctement.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si aucun fichier d'entrée n'est spécifié, UglifyJS lira à partir de STDIN.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez passer vos options avant les fichiers d'entrée, séparez les deux par un double tiret pour éviter que les fichiers d'entrée ne soient utilisés comme arguments d'option&nbsp;:</font></font></p>
<pre><code><div class="line-numbers">1</div><span class="hljs-comment">uglifyjs</span> --<span class="hljs-comment">compress</span> --<span class="hljs-comment">mangle</span> -- <span class="hljs-comment">input</span><span class="hljs-string">.</span><span class="hljs-comment">js</span>
</code></pre><div name="Command-line-options" data-unique="Command-line-options"></div><h3 id="Command-line-options" class="notranslate">Command line options</h3>
<pre><code><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</div>    -h, --help                  <span class="hljs-builtin-name">Print</span> usage information.<font></font>
                                `--help options` <span class="hljs-keyword">for</span> details on available options.<font></font>
    -V, --version               <span class="hljs-builtin-name">Print</span> version number.<font></font>
    -p, --parse &lt;options&gt;       Specify parser options:<font></font>
                                `acorn`  Use Acorn <span class="hljs-keyword">for</span> parsing.<font></font>
                                `bare_returns`  Allow return outside of functions.<font></font>
                                                Useful when minifying CommonJS<font></font>
                                                modules <span class="hljs-keyword">and</span> Userscripts that may<font></font>
                                                be anonymous function wrapped (IIFE)<font></font>
                                                by the .user.js engine `caller`.<font></font>
                                `expression`  Parse a single expression, rather than<font></font>
                                              a program (<span class="hljs-keyword">for</span> parsing JSON).<font></font>
                                `spidermonkey`  Assume input files are SpiderMonkey<font></font>
                                                AST format (as JSON).<font></font>
    -c, --compress [options]    <span class="hljs-builtin-name">Enable</span> compressor/specify compressor options:<font></font>
                                `pure_funcs`  List of functions that can be safely<font></font>
                                              removed when their return values are<font></font>
                                              <span class="hljs-keyword">not</span> used.<font></font>
    -m, --mangle [options]     <span class="hljs-built_in"> Mangle </span>names/specify mangler options:<font></font>
                                `reserved`  List of names that should <span class="hljs-keyword">not</span> be mangled.<font></font>
    --mangle-props [options]   <span class="hljs-built_in"> Mangle </span>properties/specify mangler options:<font></font>
                                `builtins` <span class="hljs-built_in"> Mangle </span>property names that overlaps<font></font>
                                            with standard JavaScript globals.<font></font>
                                `debug`  <span class="hljs-builtin-name">Add</span> <span class="hljs-builtin-name">debug</span><span class="hljs-built_in"> prefix </span><span class="hljs-keyword">and</span> suffix.<font></font>
                                `domprops` <span class="hljs-built_in"> Mangle </span>property names that overlaps<font></font>
                                            with DOM properties.<font></font>
                                `keep_quoted`  Only<span class="hljs-built_in"> mangle </span>unquoted properties.<font></font>
                                `regex`  Only<span class="hljs-built_in"> mangle </span>matched property names.<font></font>
                                `reserved`  List of names that should <span class="hljs-keyword">not</span> be mangled.<font></font>
    -b, --beautify [options]    Beautify output/specify output options:<font></font>
                                `beautify`  Enabled with `--beautify` by default.<font></font>
                                `preamble`  Preamble <span class="hljs-keyword">to</span> prepend <span class="hljs-keyword">to</span> the output. You<font></font>
                                            can use this <span class="hljs-keyword">to</span> insert a comment, <span class="hljs-keyword">for</span>
                                            example <span class="hljs-keyword">for</span> licensing information.<font></font>
                                            This will <span class="hljs-keyword">not</span> be parsed, but the source<font></font>
                                            map will adjust <span class="hljs-keyword">for</span> its presence.<font></font>
                                `quote_style`  Quote style:<font></font>
                                               0 - auto<font></font>
                                               1 - single<font></font>
                                               2 - double<font></font>
                                               3 - original<font></font>
                                `wrap_iife`  Wrap IIFEs <span class="hljs-keyword">in</span> parenthesis. Note: you may<font></font>
                                             want <span class="hljs-keyword">to</span> <span class="hljs-builtin-name">disable</span> `negate_iife` under<font></font>
                                             compressor options.<font></font>
    -o, --output &lt;file&gt;         Output file path (default STDOUT). Specify `ast` <span class="hljs-keyword">or</span>
                                `spidermonkey` <span class="hljs-keyword">to</span> write UglifyJS <span class="hljs-keyword">or</span> SpiderMonkey AST<font></font>
                                as JSON <span class="hljs-keyword">to</span> STDOUT respectively.<font></font>
    --comments [filter]         Preserve copyright comments <span class="hljs-keyword">in</span> the output. By
                               <span class="hljs-built_in"> default </span>this works like Google Closure, keeping<font></font>
                                JSDoc-style comments that contain <span class="hljs-string">"@license"</span> <span class="hljs-keyword">or</span>
                                <span class="hljs-string">"@preserve"</span>. You can optionally pass one of the<font></font>
                                following arguments <span class="hljs-keyword">to</span> this flag:<font></font>
                                - <span class="hljs-string">"all"</span> <span class="hljs-keyword">to</span> keep all comments<font></font>
                                - a valid JS RegExp like `/foo/` <span class="hljs-keyword">or</span> `/^!/` <span class="hljs-keyword">to</span><font></font>
                                keep only matching comments.<font></font>
                               <span class="hljs-built_in"> Note </span>that currently <span class="hljs-keyword">not</span> <span class="hljs-number">*a</span>ll* comments can be<font></font>
                                kept when compression is on, because of dead<font></font>
                                code removal <span class="hljs-keyword">or</span> cascading statements into<font></font>
                                sequences.<font></font>
    --config-file &lt;file&gt;        Read `minify()` options <span class="hljs-keyword">from</span> JSON file.<font></font>
    -d, --define &lt;expr&gt;[=value] Global definitions.<font></font>
    --ie8                       Support non-standard Internet Explorer 8.<font></font>
                                Equivalent <span class="hljs-keyword">to</span> setting `ie8: <span class="hljs-literal">true</span>` <span class="hljs-keyword">in</span> `minify()`
                                <span class="hljs-keyword">for</span> `compress`, `mangle` <span class="hljs-keyword">and</span> `output` options.<font></font>
                                By<span class="hljs-built_in"> default </span>UglifyJS will <span class="hljs-keyword">not</span> try <span class="hljs-keyword">to</span> be IE-proof.<font></font>
    --keep-fnames               <span class="hljs-keyword">Do</span> <span class="hljs-keyword">not</span> mangle/drop function names.  Useful <span class="hljs-keyword">for</span><font></font>
                                code relying on Function.prototype.name.<font></font>
    --name-cache &lt;file&gt;         File <span class="hljs-keyword">to</span> hold mangled name mappings.<font></font>
    --self                      Build UglifyJS as a library (implies --wrap UglifyJS)<font></font>
    --source-map [options]      <span class="hljs-builtin-name">Enable</span> source map/specify source map options:<font></font>
                                `base`  Path <span class="hljs-keyword">to</span> compute relative paths <span class="hljs-keyword">from</span> input files.<font></font>
                                `content`  Input source map, useful <span class="hljs-keyword">if</span> you<span class="hljs-string">'re compressing
                                           JS that was generated from some other original
                                           code. Specify "inline" if the source map is
                                           included within the sources.
                                `filename`  Name and/or location of the output source.
                                `includeSources`  Pass this flag if you want to include
                                                  the content of source files in the
                                                  source map as sourcesContent property.
                                `root`  Path to the original source to be included in
                                        the source map.
                                `url`  If specified, path to the source map to append in
                                       `//# sourceMappingURL`.
    --timings                   Display operations run time on STDERR.
    --toplevel                  Compress and/or mangle variables in top level scope.
    --verbose                   Print diagnostic messages.
    --warn                      Print warning messages.
    --wrap &lt;name&gt;               Embed everything in a big function, making the
                                “exports” and “global” variables available. You
                                need to pass an argument to this option to
                                specify the name that your module will take
                                when included in, say, a browser.</span>
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spécifiez </font></font><code>--output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-o</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) pour déclarer le fichier de sortie. Sinon, la sortie va à STDOUT.</font></font></p>
<div name="CLI-source-map-options" data-unique="CLI-source-map-options"></div><h2 id="CLI-source-map-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de carte source CLI</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS peut générer un fichier de carte source, ce qui est très utile pour déboguer votre JavaScript compressé. Pour obtenir une carte source, passez
 </font></font><code>--source-map --output output.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(la carte source sera écrite dans
 </font></font><code>output.js.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options additionelles:</font></font></p>
<ul>
<li><p><code>--source-map "filename='&lt;NAME&gt;'"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour spécifier le nom de la carte source.</font></font></p>
</li>
<li><p><code>--source-map "root='&lt;URL&gt;'"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour passer l'URL où les fichiers d'origine peuvent être trouvés.</font></font></p>
</li>
<li><p><code>--source-map "url='&lt;URL&gt;'"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour spécifier l'URL où la carte source peut être trouvée. Sinon, UglifyJS suppose que HTTP </font></font><code>X-SourceMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est utilisé et omettra la
 </font></font><code>//# sourceMappingURL=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directive.</font></font></p>
</li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par exemple:</font></font></p>
<pre><code><div class="line-numbers">1
2
3</div>uglifyjs <span class="hljs-keyword">js</span>/file1<span class="hljs-number">.</span><span class="hljs-keyword">js</span> <span class="hljs-keyword">js</span>/file2<span class="hljs-number">.</span><span class="hljs-keyword">js</span> \<font></font>
         -o foo<span class="hljs-number">.</span>min<span class="hljs-number">.</span><span class="hljs-keyword">js</span> -c -m \<font></font>
         --source-map <span class="hljs-string">"root='http://foo.com/src',url='foo.min.js.map'"</span>
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce qui précède va compresser et mutiler </font></font><code>file1.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>file2.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, déposera la sortie dans </font></font><code>foo.min.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et la carte source dans </font></font><code>foo.min.js.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Le mappage source fera référence à </font></font><code>http://foo.com/src/js/file1.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et
 </font></font><code>http://foo.com/src/js/file2.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(en fait, il sera répertorié </font></font><code>http://foo.com/src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
comme racine de la carte source et les fichiers d'origine comme </font></font><code>js/file1.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et
 </font></font><code>js/file2.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></p>
<div name="Composed-source-map" data-unique="Composed-source-map"></div><h3 id="Composed-source-map" class="notranslate">Composed source map</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque vous compressez du code JS qui a été généré par un compilateur tel que CoffeeScript, le mappage vers le code JS ne sera pas très utile. Au lieu de cela, vous souhaitez mapper vers le code d'origine (c'est-à-dire CoffeeScript). UglifyJS a un option pour prendre une carte source d'entrée. En supposant que vous ayez une carte de CoffeeScript → JS compilé, UglifyJS peut générer une carte à partir de CoffeeScript → JS compressé en mappant chaque jeton dans le JS compilé à son emplacement d'origine.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour utiliser cette passe de fonctionnalité </font></font><code>--source-map "content='/path/to/input/source.map'"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ou </font></font><code>--source-map "content=inline"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si la carte source est incluse en ligne avec les sources.</font></font></p>
<div name="CLI-compress-options" data-unique="CLI-compress-options"></div><h2 id="CLI-compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de compression CLI</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous devez transmettre </font></font><code>--compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( ) pour activer le compresseur. Vous pouvez éventuellement transmettre une liste d' </font><a href="#compress-options"><font style="vertical-align: inherit;">options</font></a></font><code>-c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de compression séparées par des virgules </font><font style="vertical-align: inherit;">.</font></font><a href="#compress-options"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les options sont sous la forme </font></font><code>foo=bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou simplement </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ce dernier implique une option booléenne que vous souhaitez définir </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; c'est en fait un raccourci pour </font></font><code>foo=true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple:</font></font></p>
<pre><code><div class="line-numbers">1</div>uglifyjs <span class="hljs-built_in">file</span>.js -c toplevel,sequences=<span class="hljs-literal">false</span>
</code></pre><div name="CLI-mangle-options" data-unique="CLI-mangle-options"></div><h2 id="CLI-mangle-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de modification de la CLI</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour activer le mangler, vous devez passer </font></font><code>--mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Les options suivantes (séparées par des virgules) sont prises en charge&nbsp;:</font></font></p>
<ul>
<li><p><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- noms mangle déclarés dans la portée de niveau supérieur.</font></font></p>
</li>
<li><p><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- noms mangle visibles dans les portées où </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sont utilisés.</font></font></p>
</li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque la modification est activée mais que vous souhaitez empêcher la modification de certains noms, vous pouvez déclarer ces noms avec </font></font><code>--mangle reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">— transmettez une liste de noms séparés par des virgules. Par exemple&nbsp;:</font></font></p>
<pre><code><div class="line-numbers">1</div><span class="hljs-function"><span class="hljs-title">uglifyjs</span></span> ... -m reserved=[<span class="hljs-string">'$'</span>,<span class="hljs-string">'require'</span>,<span class="hljs-string">'exports'</span>]
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour empêcher la </font><font style="vertical-align: inherit;">modification des noms </font></font><code>require</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>exports</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et .</font></font><code>$</code><font style="vertical-align: inherit;"></font></p>
<div name="CLI-mangling-property-names-(--mangle-props)" data-unique="CLI-mangling-property-names-(--mangle-props)"></div><h3 id="CLI-mangling-property-names-(--mangle-props)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noms de propriété de gestion CLI ( </font></font><code>--mangle-props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></h3>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque&nbsp;:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CELA VA PROBABLEMENT BRISER VOTRE CODE. La gestion des noms de propriété est une étape distincte, différente de la gestion des noms de variables. Passez
 </font></font><code>--mangle-props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour l'activer. Elle modifiera toutes les propriétés dans le code d'entrée, à l'exception des propriétés DOM intégrées et des propriétés du noyau JavaScript. cours. Par exemple&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11</div><span class="hljs-comment">// example.js</span>
<span class="hljs-keyword">var</span> x = {
    <span class="hljs-attr">baz_</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">foo_</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">calc</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.foo_ + <span class="hljs-keyword">this</span>.baz_;<font></font>
    }<font></font>
};<font></font>
x.bar_ = <span class="hljs-number">2</span>;<font></font>
x[<span class="hljs-string">"baz_"</span>] = <span class="hljs-number">3</span>;
<span class="hljs-built_in">console</span>.log(x.calc());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mangle toutes les propriétés (sauf pour JavaScript </font></font><code>builtins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs example.js -c -m --mangle-props
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> x={<span class="hljs-attr">o</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">l</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._+<span class="hljs-keyword">this</span>.o}};x.t=<span class="hljs-number">2</span>,x.o=<span class="hljs-number">3</span>,<span class="hljs-built_in">console</span>.log(x.l());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mangle toutes les propriétés sauf les </font></font><code>reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriétés&nbsp;:</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs example.js -c -m --mangle-props reserved=[foo_,bar_]
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> x={<span class="hljs-attr">o</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">foo_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">_</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.foo_+<span class="hljs-keyword">this</span>.o}};x.bar_=<span class="hljs-number">2</span>,x.o=<span class="hljs-number">3</span>,<span class="hljs-built_in">console</span>.log(x._());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mangle toutes les propriétés correspondant à un </font></font><code>regex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs example.js -c -m --mangle-props regex=/_$/
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> x={<span class="hljs-attr">o</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">calc</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._+<span class="hljs-keyword">this</span>.o}};x.l=<span class="hljs-number">2</span>,x.o=<span class="hljs-number">3</span>,<span class="hljs-built_in">console</span>.log(x.calc());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combinaison des options de propriétés mangle&nbsp;:</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs example.js -c -m --mangle-props regex=/_$/,reserved=[bar_]
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> x={<span class="hljs-attr">o</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">calc</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._+<span class="hljs-keyword">this</span>.o}};x.bar_=<span class="hljs-number">2</span>,x.o=<span class="hljs-number">3</span>,<span class="hljs-built_in">console</span>.log(x.calc());
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour que cela soit utile, nous évitons de modifier les noms JS standard par défaut ( </font></font><code>--mangle-props builtins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to override ).</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un fichier d'exclusion par défaut est fourni dans </font></font><code>tools/domprops.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lequel devrait couvrir la plupart des propriétés JS et DOM standard définies dans divers navigateurs. Passez
 </font></font><code>--mangle-props domprops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour désactiver cette fonctionnalité.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une expression régulière peut être utilisée pour définir quels noms de propriété doivent être modifiés. Par exemple, </font></font><code>--mangle-props regex=/^_/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne modifiera que les noms de propriété qui commencent par un trait de soulignement.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque vous compressez plusieurs fichiers à l'aide de cette option, pour qu'ils fonctionnent ensemble à la fin, nous devons nous assurer d'une manière ou d'une autre qu'une propriété est mutilée avec le même nom dans chacun d'eux. Pour cela, pass </font></font><code>--name-cache filename.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
et UglifyJS maintiendra ces mappages dans un fichier qui peut ensuite être réutilisé. Il doit être initialement vide. Exemple&nbsp;:</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1
2
3</div>$ rm -f /tmp/cache.json  <span class="hljs-comment"># start fresh</span><font></font>
$ uglifyjs file1.js file2.js --mangle-props --name-cache /tmp/cache.json -o part1.js<font></font>
$ uglifyjs file3.js file4.js --mangle-props --name-cache /tmp/cache.json -o part2.js<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, </font></font><code>part1.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>part2.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seront cohérents les uns avec les autres en termes de noms de propriété mutilés.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'utilisation du cache de noms n'est pas nécessaire si vous compressez tous vos fichiers en un seul appel à UglifyJS.</font></font></p>
<div name="Mangling-unquoted-names-(--mangle-props-keep_quoted)" data-unique="Mangling-unquoted-names-(--mangle-props-keep_quoted)"></div><h3 id="Mangling-unquoted-names-(--mangle-props-keep_quoted)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manipulation des noms sans guillemets ( </font></font><code>--mangle-props keep_quoted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'utilisation d'un nom de propriété entre guillemets ( </font></font><code>o["foo"]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) réserve le nom de la propriété ( </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) afin qu'il ne soit pas mutilé dans tout le script, même lorsqu'il est utilisé dans un style sans guillemets ( </font></font><code>o.foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Exemple :</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7</div><span class="hljs-comment">// stuff.js</span>
<span class="hljs-keyword">var</span> o = {
    <span class="hljs-string">"foo"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">bar</span>: <span class="hljs-number">3</span><font></font>
};<font></font>
o.foo += o.bar;<font></font>
<span class="hljs-built_in">console</span>.log(o.foo);
</code></pre>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs stuff.js --mangle-props keep_quoted -c -m
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> o={<span class="hljs-attr">foo</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">o</span>:<span class="hljs-number">3</span>};o.foo+=o.o,<span class="hljs-built_in">console</span>.log(o.foo);
</code></pre>
<div name="Debugging-property-name-mangling" data-unique="Debugging-property-name-mangling"></div><h3 id="Debugging-property-name-mangling" class="notranslate">Debugging property name mangling</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez également passer </font></font><code>--mangle-props debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">afin de mutiler les noms de propriété sans les masquer complètement. Par exemple, la propriété </font></font><code>o.foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
serait mutilée </font></font><code>o._$foo$_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec cette option. Cela permet de modifier les propriétés d'une grande base de code tout en étant toujours capable de déboguer le code et d'identifier où la modification casse les choses.</font></font></p>
<pre><code class="lang-bash"><div class="line-numbers">1</div>$ uglifyjs stuff.js --mangle-props debug -c -m
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> o={<span class="hljs-attr">_$foo$_</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">_$bar$_</span>:<span class="hljs-number">3</span>};o._$foo$_+=o._$bar$_,<span class="hljs-built_in">console</span>.log(o._$foo$_);
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez également passer un suffixe personnalisé à l'aide de </font></font><code>--mangle-props debug=XYZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela se transformerait alors </font></font><code>o.foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en </font></font><code>o._$foo$XYZ_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Vous pouvez changer cela chaque fois que vous compilez un script pour identifier comment une propriété a été mutilée. Une technique consiste à passer un nombre aléatoire à chaque compilation pour simuler le changement de mutilation avec différents entrées (par exemple lorsque vous mettez à jour le script d'entrée avec de nouvelles propriétés) et pour aider à identifier les erreurs telles que l'écriture de clés mutilées dans le stockage.</font></font></p>
<div name="API-Reference" data-unique="API-Reference"></div><h1 id="API-Reference"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Référence API</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En supposant une installation via NPM, vous pouvez charger UglifyJS dans votre application comme ceci&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1</div><span class="hljs-keyword">var</span> UglifyJS = <span class="hljs-built_in">require</span>(<span class="hljs-string">"uglify-js"</span>);
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe une seule fonction de haut niveau, </font></font><strong><code>minify(code, options)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui effectuera toutes les </font></font><a href="#minify-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">phases</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de minification de manière configurable. Par défaut </font></font><code>minify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, activera les options </font></font><a href="#compress-options"><code>compress</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
et </font></font><a href="#mangle-options"><code>mangle</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Exemple&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4</div><span class="hljs-keyword">var</span> code = <span class="hljs-string">"function add(first, second) { return first + second; }"</span>;
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code);
<span class="hljs-built_in">console</span>.log(result.error); <span class="hljs-comment">// runtime error, or `undefined` if no error</span>
<span class="hljs-built_in">console</span>.log(result.code);  <span class="hljs-comment">// minified output: function add(n,d){return n+d}</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez </font></font><code>minify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utiliser plusieurs fichiers JavaScript à la fois en utilisant un objet pour le premier argument où les clés sont des noms de fichiers et les valeurs sont le code source&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7</div><span class="hljs-keyword">var</span> code = {
    <span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"function add(first, second) { return first + second; }"</span>,
    <span class="hljs-string">"file2.js"</span>: <span class="hljs-string">"console.log(add(1 + 2, 3 + 4));"</span><font></font>
};<font></font>
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code);
<span class="hljs-built_in">console</span>.log(result.code);
<span class="hljs-comment">// function add(d,n){return d+n}console.log(add(3,7));</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option :</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div><span class="hljs-keyword">var</span> code = {
    <span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"function add(first, second) { return first + second; }"</span>,
    <span class="hljs-string">"file2.js"</span>: <span class="hljs-string">"console.log(add(1 + 2, 3 + 4));"</span><font></font>
};<font></font>
<span class="hljs-keyword">var</span> options = { <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">true</span> };
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code, options);
<span class="hljs-built_in">console</span>.log(result.code);
<span class="hljs-comment">// console.log(3+7);</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code>nameCache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option :</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</div><span class="hljs-keyword">var</span> options = {
    <span class="hljs-attr">mangle</span>: {
        <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">true</span>,<font></font>
    },<font></font>
    <span class="hljs-attr">nameCache</span>: {}<font></font>
};<font></font>
<span class="hljs-keyword">var</span> result1 = UglifyJS.minify({
    <span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"function add(first, second) { return first + second; }"</span><font></font>
}, options);<font></font>
<span class="hljs-keyword">var</span> result2 = UglifyJS.minify({
    <span class="hljs-string">"file2.js"</span>: <span class="hljs-string">"console.log(add(1 + 2, 3 + 4));"</span><font></font>
}, options);<font></font>
<span class="hljs-built_in">console</span>.log(result1.code);
<span class="hljs-comment">// function n(n,r){return n+r}</span>
<span class="hljs-built_in">console</span>.log(result2.code);
<span class="hljs-comment">// console.log(n(3,7));</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez conserver le cache de noms dans le système de fichiers de la manière suivante&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</div><span class="hljs-keyword">var</span> cacheFileName = <span class="hljs-string">"/tmp/cache.json"</span>;
<span class="hljs-keyword">var</span> options = {
    <span class="hljs-attr">mangle</span>: {
        <span class="hljs-attr">properties</span>: <span class="hljs-literal">true</span>,<font></font>
    },<font></font>
    <span class="hljs-attr">nameCache</span>: <span class="hljs-built_in">JSON</span>.parse(fs.readFileSync(cacheFileName, <span class="hljs-string">"utf8"</span>))<font></font>
};<font></font>
fs.writeFileSync(<span class="hljs-string">"part1.js"</span>, UglifyJS.minify({
    <span class="hljs-string">"file1.js"</span>: fs.readFileSync(<span class="hljs-string">"file1.js"</span>, <span class="hljs-string">"utf8"</span>),
    <span class="hljs-string">"file2.js"</span>: fs.readFileSync(<span class="hljs-string">"file2.js"</span>, <span class="hljs-string">"utf8"</span>)<font></font>
}, options).code, <span class="hljs-string">"utf8"</span>);<font></font>
fs.writeFileSync(<span class="hljs-string">"part2.js"</span>, UglifyJS.minify({
    <span class="hljs-string">"file3.js"</span>: fs.readFileSync(<span class="hljs-string">"file3.js"</span>, <span class="hljs-string">"utf8"</span>),
    <span class="hljs-string">"file4.js"</span>: fs.readFileSync(<span class="hljs-string">"file4.js"</span>, <span class="hljs-string">"utf8"</span>)<font></font>
}, options).code, <span class="hljs-string">"utf8"</span>);<font></font>
fs.writeFileSync(cacheFileName, <span class="hljs-built_in">JSON</span>.stringify(options.nameCache), <span class="hljs-string">"utf8"</span>);
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple de combinaison d' </font></font><code>minify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options :</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</div><span class="hljs-keyword">var</span> code = {
    <span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"function add(first, second) { return first + second; }"</span>,
    <span class="hljs-string">"file2.js"</span>: <span class="hljs-string">"console.log(add(1 + 2, 3 + 4));"</span><font></font>
};<font></font>
<span class="hljs-keyword">var</span> options = {
    <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">global_defs</span>: {
            <span class="hljs-string">"@console.log"</span>: <span class="hljs-string">"alert"</span><font></font>
        },<font></font>
        <span class="hljs-attr">passes</span>: <span class="hljs-number">2</span><font></font>
    },<font></font>
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">beautify</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">preamble</span>: <span class="hljs-string">"/* uglified */"</span><font></font>
    }<font></font>
};<font></font>
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code, options);
<span class="hljs-built_in">console</span>.log(result.code);
<span class="hljs-comment">// /* uglified */</span>
<span class="hljs-comment">// alert(10);"</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour générer des avertissements&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6</div><span class="hljs-keyword">var</span> code = <span class="hljs-string">"function f(){ var u; return 2 + 3; }"</span>;
<span class="hljs-keyword">var</span> options = { <span class="hljs-attr">warnings</span>: <span class="hljs-literal">true</span> };
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code, options);
<span class="hljs-built_in">console</span>.log(result.error);    <span class="hljs-comment">// runtime error, `undefined` in this case</span>
<span class="hljs-built_in">console</span>.log(result.warnings); <span class="hljs-comment">// [ 'Dropping unused variable u [0:1,18]' ]</span>
<span class="hljs-built_in">console</span>.log(result.code);     <span class="hljs-comment">// function f(){return 5}</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple d'erreur :</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3</div><span class="hljs-keyword">var</span> result = UglifyJS.minify({<span class="hljs-string">"foo.js"</span> : <span class="hljs-string">"if (0) else console.log(1);"</span>});
<span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result.error));
<span class="hljs-comment">// {"message":"Unexpected token: keyword (else)","filename":"foo.js","line":1,"col":7,"pos":7}</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque&nbsp;: contrairement à </font></font><a href="mailto:`uglify-js@2.x"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`uglify-js@2.x</font></font></a><code>, the</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;3.x', l'API ne génère pas d'erreurs. Pour obtenir un effet similaire, procédez comme suit&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2</div><span class="hljs-keyword">var</span> result = UglifyJS.minify(code, options);
<span class="hljs-keyword">if</span> (result.error) <span class="hljs-keyword">throw</span> result.error;
</code></pre>
<div name="Minify-options" data-unique="Minify-options"></div><h2 id="Minify-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de réduction</font></font></h2>
<ul>
<li><p><code>warnings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) — passe </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour renvoyer les avertissements du compresseur dans </font></font><code>result.warnings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Utilisez la valeur </font></font><code>"verbose"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour des avertissements plus détaillés.</font></font></p>
</li>
<li><p><code>parse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) — passez un objet si vous souhaitez spécifier des </font></font><a href="#parse-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options d'analyse supplémentaires</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</li>
<li><p><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) — passez </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour ignorer complètement la compression. Passez un objet pour spécifier les </font></font><a href="#compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options de compression</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personnalisées .</font></font></p>
</li>
<li><p><code>mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) — pass </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour ignorer les noms de mangle, ou passer un objet pour spécifier les </font></font><a href="#mangle-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options de mangle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (voir ci-dessous).</font></font></p>
<ul>
<li><code>mangle.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) — une sous-catégorie de l'option mangle Transmettez un objet pour spécifier les </font></font><a href="#mangle-properties-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options de propriété mangle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personnalisées .</font></font></li>
</ul>
</li>
<li><p><code>output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) — passez un objet si vous souhaitez spécifier des </font></font><a href="#output-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options de sortie supplémentaires</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les valeurs par défaut sont optimisées pour une meilleure compression.</font></font></p>
</li>
<li><p><code>sourceMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - passez un objet si vous souhaitez spécifier
 </font></font><a href="#source-map-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les options de la carte source</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</li>
<li><p><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - définissez sur </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si vous souhaitez activer la modification des noms de variables et de fonctions de niveau supérieur et supprimer les variables et fonctions inutilisées.</font></font></p>
</li>
<li><p><code>nameCache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - passez un objet vide </font></font><code>{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou un objet précédemment utilisé </font></font><code>nameCache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si vous souhaitez mettre en cache les noms de variables et de propriétés mutilés sur plusieurs invocations de </font></font><code>minify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Remarque : il s'agit d'une propriété en lecture/écriture. </font></font><code>minify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lira l'état du cache de noms de cet objet et le mettra à jour pendant la minification afin qu'il puisse être réutilisé ou conservé en externe par l'utilisateur.</font></font></p>
</li>
<li><p><code>ie8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - défini </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour prendre en charge IE8.</font></font></p>
</li>
<li><p><code>keep_fnames</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - passe </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour empêcher la suppression ou la modification des noms de fonction. Utile pour le code reposant sur </font></font><code>Function.prototype.name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
</ul>
<div name="Minify-options-structure" data-unique="Minify-options-structure"></div><h2 id="Minify-options-structure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réduire la structure des options</font></font></h2>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</div>{
    <span class="hljs-attr">parse</span>: {
        <span class="hljs-comment">// parse options</span><font></font>
    },<font></font>
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-comment">// compress options</span><font></font>
    },<font></font>
    <span class="hljs-attr">mangle</span>: {
        <span class="hljs-comment">// mangle options</span><font></font>
<font></font>
        <span class="hljs-attr">properties</span>: {
            <span class="hljs-comment">// mangle property options</span><font></font>
        }<font></font>
    },<font></font>
    <span class="hljs-attr">output</span>: {
        <span class="hljs-comment">// output options</span><font></font>
    },<font></font>
    <span class="hljs-attr">sourceMap</span>: {
        <span class="hljs-comment">// source map options</span><font></font>
    },<font></font>
    <span class="hljs-attr">nameCache</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// or specify a name cache object</span>
    <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">ie8</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">warnings</span>: <span class="hljs-literal">false</span>,<font></font>
}<font></font>
</code></pre>
<div name="Source-map-options" data-unique="Source-map-options"></div><h3 id="Source-map-options" class="notranslate">Source map options</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour générer une carte source&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div><span class="hljs-keyword">var</span> result = UglifyJS.minify({<span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"var a = function() {};"</span>}, {
    <span class="hljs-attr">sourceMap</span>: {
        <span class="hljs-attr">filename</span>: <span class="hljs-string">"out.js"</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">"out.js.map"</span><font></font>
    }<font></font>
});<font></font>
<span class="hljs-built_in">console</span>.log(result.code); <span class="hljs-comment">// minified output</span>
<span class="hljs-built_in">console</span>.log(result.map);  <span class="hljs-comment">// source map</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notez que la carte source n'est pas enregistrée dans un fichier, elle est simplement renvoyée dans
 </font></font><code>result.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. La valeur transmise pour </font></font><code>sourceMap.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'est utilisée que pour définir
 </font></font><code>//# sourceMappingURL=out.js.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans </font></font><code>result.code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. La valeur de
 </font></font><code>filename</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'est utilisée que pour définir l' </font></font><code>file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribut (voir </font></font><a href="https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la spécification</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) dans le fichier de carte source.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez définir l'option </font></font><code>sourceMap.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur </font></font><code>"inline"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et la carte source sera ajoutée au code.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez également spécifier la propriété sourceRoot à inclure dans la carte source&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6</div><span class="hljs-keyword">var</span> result = UglifyJS.minify({<span class="hljs-string">"file1.js"</span>: <span class="hljs-string">"var a = function() {};"</span>}, {
    <span class="hljs-attr">sourceMap</span>: {
        <span class="hljs-attr">root</span>: <span class="hljs-string">"http://example.com/src"</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">"out.js.map"</span><font></font>
    }<font></font>
});<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous compressez du JavaScript compilé et que vous disposez d'un mappage source, vous pouvez utiliser</font></font><code>sourceMap.content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7</div><span class="hljs-keyword">var</span> result = UglifyJS.minify({<span class="hljs-string">"compiled.js"</span>: <span class="hljs-string">"compiled code"</span>}, {
    <span class="hljs-attr">sourceMap</span>: {
        <span class="hljs-attr">content</span>: <span class="hljs-string">"content from compiled.js.map"</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">"minified.js.map"</span><font></font>
    }<font></font>
});<font></font>
<span class="hljs-comment">// same as before, it returns `code` and `map`</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous utilisez l' en- </font></font><code>X-SourceMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tête à la place, vous pouvez simplement omettre </font></font><code>sourceMap.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div name="Parse-options" data-unique="Parse-options"></div><h2 id="Parse-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options d'analyse</font></font></h2>
<ul>
<li><p><code>bare_returns</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- prend en charge les </font></font><code>return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instructions de niveau supérieur</font></font></p>
</li>
<li><p><code>html5_comments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p>
</li>
<li><p><code>shebang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- prise en charge </font></font><code>#!command</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comme première ligne</font></font></p>
</li>
</ul>
<div name="Compress-options" data-unique="Compress-options"></div><h2 id="Compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de compression</font></font></h2>
<ul>
<li><p><code>arguments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- remplacer </font></font><code>arguments[index]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par le nom du paramètre de fonction chaque fois que possible.</font></font></p>
</li>
<li><p><code>booleans</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- diverses optimisations pour le contexte booléen, par exemple</font></font><code>!!a ? b : c → a ? b : c</code></p>
</li>
<li><p><code>collapse_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Réduire les variables non constantes à usage unique, si les effets secondaires le permettent.</font></font></p>
</li>
<li><p><code>comparisons</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- applique certaines optimisations aux nœuds binaires, par exemple </font></font><code>!(a &lt;= b) → a &gt; b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tente de nier les nœuds binaires, par exemple,
 </font></font><code>a = !b &amp;&amp; !c &amp;&amp; !d &amp;&amp; !e → a=!(b||c||d||e)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etc.</font></font></p>
</li>
<li><p><code>conditionals</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- applique les optimisations pour </font></font><code>if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-s et les expressions conditionnelles</font></font></p>
</li>
<li><p><code>dead_code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- supprimer le code inaccessible</font></font></p>
</li>
<li><p><code>drop_console</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passez </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour supprimer les appels aux
 </font></font><code>console.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonctions. Si vous souhaitez supprimer un appel de fonction spécifique tel que </font></font><code>console.info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et/ou conserver les effets secondaires des arguments de fonction après avoir supprimé l'appel de fonction, utilisez à la </font></font><code>pure_funcs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">place.</font></font></p>
</li>
<li><p><code>drop_debugger</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) --remove </font></font><code>debugger;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instructions</font></font></p>
</li>
<li><p><code>evaluate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- tente d'évaluer des expressions constantes</font></font></p>
</li>
<li><p><code>expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Pass </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour conserver les valeurs de complétion des instructions terminales sans </font></font><code>return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, par exemple dans les bookmarklets.</font></font></p>
</li>
<li><p><code>global_defs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- voir </font></font><a href="#conditional-compilation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compilation conditionnelle</font></font></a></p>
</li>
<li><p><code>hoist_funs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- déclarations de fonction de levage</font></font></p>
</li>
<li><p><code>hoist_props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut&nbsp;: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)&nbsp;- transfère les propriétés des objets constants et des littéraux de tableau vers des variables régulières soumises à un ensemble de contraintes. Par exemple&nbsp;:
 </font></font><code>var o={p:1, q:2}; f(o.p, o.q);</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est converti en </font></font><code>f(1, 2);</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Remarque&nbsp;: </font></font><code>hoist_props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fonctionne mieux avec </font></font><code>mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">activé, l' </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option </font></font><code>passes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">définie sur </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou supérieure et l' </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option </font></font><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">activée.</font></font></p>
</li>
<li><p><code>hoist_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- déclarations de levage </font></font><code>var</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c'est </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
par défaut car cela semble augmenter la taille de la sortie en général)</font></font></p>
</li>
<li><p><code>if_return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- optimisations pour if/return et if/continue</font></font></p>
</li>
<li><p><code>inline</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- appels en ligne pour fonctionner avec l' </font></font><code>return</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instruction simple/ :</font></font></p>
<ul>
<li><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- pareil que</font></font><code>0</code></li>
<li><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--inlining désactivé</font></font></li>
<li><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- fonctions simples en ligne</font></font></li>
<li><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- fonctions en ligne avec arguments</font></font></li>
<li><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- fonctions en ligne avec arguments et variables</font></font></li>
<li><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- pareil que</font></font><code>3</code></li>
</ul>
</li>
<li><p><code>join_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- joindre des </font></font><code>var</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instructions consécutives</font></font></p>
</li>
<li><p><code>keep_fargs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Empêche le compresseur de rejeter les arguments de fonction inutilisés. Vous en avez besoin pour le code qui repose sur </font></font><code>Function.length</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>keep_fnames</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passe </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour empêcher le compresseur de rejeter les noms de fonction. Utile pour le code reposant sur
 </font></font><code>Function.prototype.name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Voir aussi : l' </font></font><code>keep_fnames</code> <a href="#mangle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option mangle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</li>
<li><p><code>keep_infinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passe </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour empêcher </font></font><code>Infinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'être compressé dans </font></font><code>1/0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ce qui peut entraîner des problèmes de performances sur Chrome.</font></font></p>
</li>
<li><p><code>loops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- optimisations pour </font></font><code>do</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>while</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">boucles lorsque nous pouvons déterminer statiquement la condition.</font></font></p>
</li>
<li><p><code>negate_iife</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- annuler les "expressions de fonction immédiatement appelées" où la valeur de retour est ignorée, pour éviter les parenthèses que le générateur de code insèrerait.</font></font></p>
</li>
<li><p><code>passes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Le nombre maximal d'exécutions de la compression. Dans certains cas, plusieurs passes entraînent une compression supplémentaire du code. Gardez à l'esprit que plus de passes prendront plus de temps.</font></font></p>
</li>
<li><p><code>properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- réécrit l'accès aux propriétés en utilisant la notation par points, par exemple</font></font><code>foo["bar"] → foo.bar</code></p>
</li>
<li><p><code>pure_funcs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Vous pouvez passer un tableau de noms et UglifyJS supposera que ces fonctions ne produisent pas d'effets secondaires. DANGER&nbsp;: ne vérifiera pas si le nom est redéfini dans la portée. Un exemple de cas ici, par exemple </font></font><code>var q = Math.floor(a/b)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Si la variable </font></font><code>q</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est n'est pas utilisé ailleurs, UglifyJS le supprimera, mais conservera toujours le </font></font><code>Math.floor(a/b)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ne sachant pas ce qu'il fait.Vous pouvez passer </font></font><code>pure_funcs: [ 'Math.floor' ]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour lui faire savoir que cette fonction ne produira aucun effet secondaire, auquel cas toute la déclaration serait supprimée. l'implémentation actuelle ajoute un peu de temps système (la compression sera plus lente). Assurez-vous que les symboles sous </font></font><code>pure_funcs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sont également sous </font></font><code>mangle.reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour éviter la manipulation.</font></font></p>
</li>
<li><p><code>pure_getters</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut&nbsp;: </font></font><code>"strict"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Si vous passez </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour cela, UglifyJS supposera que l'accès à la propriété de l'objet (par exemple </font></font><code>foo.bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>foo["bar"]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) n'a aucun effet secondaire. Spécifiez </font></font><code>"strict"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour traiter </font></font><code>foo.bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comme sans effet secondaire uniquement lorsqu'il
 </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est certain de ne pas lancer, c'est-à-dire pas </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>undefined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>reduce_funcs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut&nbsp;: </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)&nbsp;–&nbsp;Autorise l'intégration de fonctions à usage unique en tant qu'expressions de fonction lorsque cela est autorisé, ce qui permet une optimisation supplémentaire. Activé par défaut. L'option dépend de </font></font><code>reduce_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
son activation. Certains codes s'exécutent plus rapidement dans le moteur Chrome&nbsp;V8 si cette option est désactivée. Non avoir un impact négatif sur les autres principaux navigateurs.</font></font></p>
</li>
<li><p><code>reduce_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Amélioration de l'optimisation des variables affectées et utilisées comme valeurs constantes.</font></font></p>
</li>
<li><p><code>sequences</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- joindre des instructions simples consécutives à l'aide de l'opérateur virgule. Peut être défini sur un entier positif pour spécifier le nombre maximal de séquences de virgules consécutives qui seront générées. Si cette option est définie sur
 , la </font><font style="vertical-align: inherit;">limite </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par défaut est </font><font style="vertical-align: inherit;">. Option de définition </font><font style="vertical-align: inherit;">to </font><font style="vertical-align: inherit;">ou </font><font style="vertical-align: inherit;">
to disable. La plus petite </font><font style="vertical-align: inherit;">longueur est </font><font style="vertical-align: inherit;">. Une </font><font style="vertical-align: inherit;">valeur de </font><font style="vertical-align: inherit;">
est conservée pour être équivalente à </font><font style="vertical-align: inherit;">et en tant que telle signifie </font><font style="vertical-align: inherit;">. En de rares occasions, la limite de séquences par défaut conduit à des temps de compression très lents, auquel cas une valeur de </font><font style="vertical-align: inherit;">ou moins est recommandée.</font></font><code>sequences</code><font style="vertical-align: inherit;"></font><code>200</code><font style="vertical-align: inherit;"></font><code>false</code><font style="vertical-align: inherit;"></font><code>0</code><font style="vertical-align: inherit;"></font><code>sequences</code><font style="vertical-align: inherit;"></font><code>2</code><font style="vertical-align: inherit;"></font><code>sequences</code><font style="vertical-align: inherit;"></font><code>1</code><font style="vertical-align: inherit;"></font><code>true</code><font style="vertical-align: inherit;"></font><code>200</code><font style="vertical-align: inherit;"></font><code>20</code><font style="vertical-align: inherit;"></font></p>
</li>
<li><p><code>side_effects</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passe </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour désactiver les fonctions susceptibles de supprimer des fonctions marquées comme «&nbsp;pures&nbsp;». Un appel de fonction est marqué comme «&nbsp;pur&nbsp;» si une annotation de commentaire </font></font><code>/*@__PURE__*/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>/*#__PURE__*/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">précède immédiatement l'appel. Par exemple&nbsp;:</font></font><code>/*@__PURE__*/foo();</code></p>
</li>
<li><p><code>switches</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- dédupliquer et supprimer les </font></font><code>switch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">branches inaccessibles</font></font></p>
</li>
<li><p><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- supprimer les fonctions non référencées ( </font></font><code>"funcs"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) et/ou les variables ( </font></font><code>"vars"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dans la portée de niveau supérieur ( </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par défaut, </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour supprimer à la fois les fonctions et les variables non référencées)</font></font></p>
</li>
<li><p><code>top_retain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- empêche la </font></font><code>unused</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suppression de fonctions et variables de niveau supérieur spécifiques (peut être un tableau, séparé par des virgules, RegExp ou fonction. Implies </font></font><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p>
</li>
<li><p><code>typeofs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Se transforme </font></font><code>typeof foo == "undefined"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en
 </font></font><code>foo === void 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Remarque&nbsp;: il est recommandé de définir cette valeur sur </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour IE10 et les versions antérieures en raison de problèmes connus.</font></font></p>
</li>
<li><p><code>unsafe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- appliquer les transformations "non sécurisées" (discussion ci-dessous)</font></font></p>
</li>
<li><p><code>unsafe_comps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- compresse les expressions comme </font></font><code>a &lt;= b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en supposant qu'aucun des opérandes ne peut être (contraint à) </font></font><code>NaN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>unsafe_Function</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- compresse et mangle </font></font><code>Function(args, code)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lorsque </font></font><code>args</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sont des littéraux de chaîne.</font></font></p>
</li>
<li><p><code>unsafe_math</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- optimiser les expressions numériques comme
 </font></font><code>2 * x * 3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">into </font></font><code>6 * x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui peuvent donner des résultats imprécis en virgule flottante.</font></font></p>
</li>
<li><p><code>unsafe_proto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- optimiser les expressions comme
 </font></font><code>Array.prototype.slice.call(a)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">into</font></font><code>[].slice.call(a)</code></p>
</li>
<li><p><code>unsafe_regexp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- active les substitutions de variables par des
 </font></font><code>RegExp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valeurs de la même manière que s'il s'agissait de constantes.</font></font></p>
</li>
<li><p><code>unsafe_undefined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- remplacer </font></font><code>void 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'il y a une variable nommée </font></font><code>undefined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans la portée (le nom de la variable sera mutilé, généralement réduit à un seul caractère)</font></font></p>
</li>
<li><p><code>unused</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- supprimer les fonctions et les variables non référencées (les affectations de variables directes simples ne comptent pas comme des références à moins qu'elles ne soient définies sur </font></font><code>"keep_assign"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p>
</li>
<li><p><code>warnings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- affiche des avertissements lors de la suppression de code inaccessible ou de déclarations inutilisées, etc.</font></font></p>
</li>
</ul>
<div name="Mangle-options" data-unique="Mangle-options"></div><h2 id="Mangle-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de mutilation</font></font></h2>
<ul>
<li><p><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passer </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aux noms mangle visibles dans les portées où </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sont utilisés.</font></font></p>
</li>
<li><p><code>keep_fnames</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passe </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour ne pas mutiler les noms de fonctions. Utile pour le code reposant sur </font></font><code>Function.prototype.name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Voir aussi : l' </font></font><code>keep_fnames</code>
<a href="#compress-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option compress</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</li>
<li><p><code>reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passez un tableau d'identificateurs qui doivent être exclus de la manipulation. Exemple : </font></font><code>["foo", "bar"]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>toplevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Passer </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aux noms mangle déclarés dans la portée de niveau supérieur.</font></font></p>
</li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemples:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5</div><span class="hljs-comment">// test.js</span>
<span class="hljs-keyword">var</span> globalVar;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">funcName</span>(<span class="hljs-params">firstLongName, anotherLongName</span>) </span>{
    <span class="hljs-keyword">var</span> myVariable = firstLongName +  anotherLongName;<font></font>
}<font></font>
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10</div><span class="hljs-keyword">var</span> code = fs.readFileSync(<span class="hljs-string">"test.js"</span>, <span class="hljs-string">"utf8"</span>);<font></font>
<font></font>
UglifyJS.minify(code).code;<font></font>
<span class="hljs-comment">// 'function funcName(a,n){}var globalVar;'</span><font></font>
<font></font>
UglifyJS.minify(code, { <span class="hljs-attr">mangle</span>: { <span class="hljs-attr">reserved</span>: [<span class="hljs-string">'firstLongName'</span>] } }).code;
<span class="hljs-comment">// 'function funcName(firstLongName,a){}var globalVar;'</span><font></font>
<font></font>
UglifyJS.minify(code, { <span class="hljs-attr">mangle</span>: { <span class="hljs-attr">toplevel</span>: <span class="hljs-literal">true</span> } }).code;
<span class="hljs-comment">// 'function n(n,a){}var a;'</span>
</code></pre>
<div name="Mangle-properties-options" data-unique="Mangle-properties-options"></div><h3 id="Mangle-properties-options" class="notranslate">Mangle properties options</h3>
<ul>
<li><p><code>builtins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Utilisé </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour autoriser la modification des propriétés DOM intégrées. Il n'est pas recommandé de remplacer ce paramètre.</font></font></p>
</li>
<li><p><code>debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut&nbsp;: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)&nbsp;-&nbsp;Manglez les noms avec le nom d'origine toujours présent. Passez une chaîne vide </font></font><code>""</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour activer ou une chaîne non vide pour définir le suffixe de débogage.</font></font></p>
</li>
<li><p><code>keep_quoted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(défaut&nbsp;: </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Modifie uniquement les noms de propriété sans guillemets.</font></font></p>
</li>
<li><p><code>regex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Transmettez un littéral RegExp aux seuls noms de propriété mangle correspondant à l'expression régulière.</font></font></p>
</li>
<li><p><code>reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut : </font></font><code>[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- Ne modifie pas les noms de propriété répertoriés dans le
 </font></font><code>reserved</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tableau.</font></font></p>
</li>
</ul>
<div name="Output-options" data-unique="Output-options"></div><h2 id="Output-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de sortie</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le générateur de code essaie de produire le code le plus court possible par défaut. Si vous voulez une sortie embellie, passez </font></font><code>--beautify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Vous pouvez éventuellement passer des arguments supplémentaires qui contrôlent la sortie du code&nbsp;:</font></font></p>
<ul>
<li><p><code>ascii_only</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- caractères d'échappement Unicode dans les chaînes et les expressions régulières (affecte les directives avec des caractères non-ascii qui deviennent invalides)</font></font></p>
</li>
<li><p><code>beautify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- s'il faut réellement embellir la sortie. Le passage </font></font><code>-b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le définira sur true, mais vous devrez peut-être passer </font></font><code>-b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">même lorsque vous souhaitez générer du code minifié, afin de spécifier des arguments supplémentaires, afin que vous puissiez l'utiliser </font></font><code>-b beautify=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour le remplacer.</font></font></p>
</li>
<li><p><code>braces</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- insérez toujours des accolades dans les instructions </font></font><code>if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
 </font><font style="vertical-align: inherit;">ou </font></font><code>do</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">même si leur corps est une seule instruction.</font></font><code>while</code><font style="vertical-align: inherit;"></font><code>with</code><font style="vertical-align: inherit;"></font></p>
</li>
<li><p><code>comments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- passez </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>"all"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour conserver tous les commentaires, </font></font><code>"some"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour conserver certains commentaires, une chaîne d'expression régulière (par exemple </font></font><code>/^!/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ou une fonction.</font></font></p>
</li>
<li><p><code>indent_level</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p>
</li>
<li><p><code>indent_start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - préfixe toutes les lignes par autant d'espaces</font></font></p>
</li>
<li><p><code>inline_script</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- échappe les commentaires HTML et la barre oblique dans les occurrences de </font></font><code>&lt;/script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans les chaînes</font></font></p>
</li>
<li><p><code>keep_quoted_props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- lorsqu'il est activé, empêche la suppression des guillemets des noms de propriété dans les littéraux d'objet.</font></font></p>
</li>
<li><p><code>max_line_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- longueur de ligne maximale (pour le code uglifié)</font></font></p>
</li>
<li><p><code>preamble</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- lorsqu'il est passé, il doit s'agir d'une chaîne et il sera ajouté littéralement au début de la sortie. La carte source s'adaptera à ce texte. Peut être utilisé pour insérer un commentaire contenant des informations de licence, par exemple.</font></font></p>
</li>
<li><p><code>preserve_line</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- passe </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour préserver les lignes, mais cela ne fonctionne que si </font></font><code>beautify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est défini sur </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>quote_keys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- passe </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour citer toutes les clés dans les objets littéraux</font></font></p>
</li>
<li><p><code>quote_style</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- style de guillemet préféré pour les chaînes (affecte également les noms de propriété et les directives entre guillemets)&nbsp;:</font></font></p>
<ul>
<li><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- préfère les guillemets doubles, passe aux guillemets simples lorsqu'il y a plus de guillemets doubles dans la chaîne elle-même. </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est préférable pour la taille de gzip.</font></font></li>
<li><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- utilisez toujours des guillemets simples</font></font></li>
<li><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- utilisez toujours des guillemets doubles</font></font></li>
<li><code>3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-- utilisez toujours les guillemets originaux</font></font></li>
</ul>
</li>
<li><p><code>semicolons</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(défaut </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - instructions séparées par des points-virgules. Si vous passez </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nous utiliserons dans la mesure du possible une nouvelle ligne au lieu d'un point-virgule, ce qui conduira à une sortie plus lisible du code uglifié (la taille avant gzip pourrait être plus petite ; la taille après gzip serait légèrement plus grande).</font></font></p>
</li>
<li><p><code>shebang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - conserver shebang </font></font><code>#!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans le préambule (scripts bash)</font></font></p>
</li>
<li><p><code>webkit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - active les solutions de contournement pour les bogues WebKit. Les utilisateurs de PhantomJS doivent définir cette option sur </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</li>
<li><p><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par défaut </font></font><code>80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - ne prend effet que lorsque l'embellissement est activé, cela spécifie une largeur de ligne (orientative) à laquelle l'embellisseur essaiera d'obéir. Il se réfère à la largeur du texte de la ligne (hors indentation). Cela ne fonctionne pas très bien actuellement, mais cela rend le code généré par UglifyJS plus lisible.</font></font></p>
</li>
<li><p><code>wrap_iife</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(default </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) -- passe </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour envelopper les expressions de fonction immédiatement appelées. Voir
 </font></font><a href="https://github.com/mishoo/UglifyJS2/issues/640"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#640</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour plus de détails.</font></font></p>
</li>
</ul>
<div name="Miscellaneous" data-unique="Miscellaneous"></div><h1 id="Miscellaneous"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Divers</font></font></h1>
<div name="Keeping-copyright-notices-or-other-comments" data-unique="Keeping-copyright-notices-or-other-comments"></div><h3 id="Keeping-copyright-notices-or-other-comments" class="notranslate">Keeping copyright notices or other comments</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez passer </font></font><code>--comments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour conserver certains commentaires dans la sortie. Par défaut, il conservera les commentaires de style JSDoc contenant "@preserve", "@license" ou "@cc_on" (compilation conditionnelle pour IE). Vous pouvez passer
 </font></font><code>--comments all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour conserver tous les comments ou une expression régulière JavaScript valide pour ne conserver que les commentaires correspondant à cette expression régulière. Par exemple </font></font><code>--comments /^!/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, les commentaires tels que </font></font><code>/*! Copyright Notice */</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notez toutefois qu'il peut y avoir des situations dans lesquelles des commentaires sont perdus. Par exemple&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7</div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@preserve </span>Foo Bar */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// this function is never called</span><font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> something();<font></font>
}<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Même s'il a "@preserve", le commentaire sera perdu car la fonction interne </font></font><code>g</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(qui est le nœud AST auquel le commentaire est attaché) est rejetée par le compresseur car non référencée.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les commentaires les plus sûrs où placer les informations de copyright (ou d'autres informations qui doivent être conservées dans la sortie) sont les commentaires attachés aux nœuds de niveau supérieur.</font></font></p>
<div name="The-unsafe-compress-option" data-unique="The-unsafe-compress-option"></div><h3 id="The-unsafe-compress-option"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code>unsafe</code> <code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il permet certaines transformations </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">susceptibles</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de casser la logique du code dans certains cas artificiels, mais devrait convenir à la plupart des codes. Vous voudrez peut-être l'essayer sur votre propre code, cela devrait réduire la taille minifiée. Voici ce qui se passe lorsque cet indicateur est activé&nbsp;:</font></font></p>
<ul>
<li><code>new Array(1, 2, 3)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>Array(1, 2, 3)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→</font></font><code>[ 1, 2, 3 ]</code></li>
<li><code>new Object()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→</font></font><code>{}</code></li>
<li><code>String(exp)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>exp.toString()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→</font></font><code>"" + exp</code></li>
<li><code>new Object/RegExp/Function/Error/Array (...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ on écarte le</font></font><code>new</code></li>
</ul>
<div name="Conditional-compilation" data-unique="Conditional-compilation"></div><h3 id="Conditional-compilation" class="notranslate">Conditional compilation</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez utiliser le commutateur </font></font><code>--define</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>-d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) pour déclarer des variables globales que UglifyJS supposera être des constantes (sauf si elles sont définies dans la portée). Par exemple, si vous passez </font></font><code>--define DEBUG=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alors, couplé à la suppression du code mort, UglifyJS supprimera les éléments suivants de la sortie&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3</div><span class="hljs-keyword">if</span> (DEBUG) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"debug stuff"</span>);<font></font>
}<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez spécifier des constantes imbriquées sous la forme </font></font><code>--define env.DEBUG=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS avertira que la condition est toujours fausse et qu'il supprime du code inaccessible&nbsp;; pour l'instant, il n'y a pas d'option pour désactiver uniquement cet avertissement spécifique, vous pouvez passer </font></font><code>warnings=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour désactiver </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tous les</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avertissements.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une autre façon de procéder consiste à déclarer vos variables globales en tant que constantes dans un fichier séparé et à l'inclure dans la construction. Par exemple, vous pouvez avoir un
 </font></font><code>build/defines.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier contenant les éléments suivants&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3</div><span class="hljs-keyword">var</span> DEBUG = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> PRODUCTION = <span class="hljs-literal">true</span>;
<span class="hljs-comment">// etc.</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et construisez votre code comme ceci:</font></font></p>
<pre><code><div class="line-numbers">1</div>uglifyjs build/defines<span class="hljs-number">.</span><span class="hljs-keyword">js</span> <span class="hljs-keyword">js</span>/foo<span class="hljs-number">.</span><span class="hljs-keyword">js</span> <span class="hljs-keyword">js</span>/bar<span class="hljs-number">.</span><span class="hljs-keyword">js</span>... -c
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS remarquera les constantes et, comme elles ne peuvent pas être modifiées, il évaluera les références à celles-ci à la valeur elle-même et supprimera le code inaccessible comme d'habitude. La construction contiendra les </font></font><code>const</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">déclarations si vous les utilisez. Si vous ciblez des environnements &lt; ES6 qui ne not support </font></font><code>const</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, l'utilisation </font></font><code>var</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de with </font></font><code>reduce_vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(activé par défaut) devrait suffire.</font></font></p>
<div name="Conditional-compilation-API" data-unique="Conditional-compilation-API"></div><h3 id="Conditional-compilation-API" class="notranslate">Conditional compilation API</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez également utiliser la compilation conditionnelle via l'API de programmation, à la différence que le nom de la propriété est </font></font><code>global_defs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et est une propriété de compresseur&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div><span class="hljs-keyword">var</span> result = UglifyJS.minify(fs.readFileSync(<span class="hljs-string">"input.js"</span>, <span class="hljs-string">"utf8"</span>), {
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">dead_code</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">global_defs</span>: {
            <span class="hljs-attr">DEBUG</span>: <span class="hljs-literal">false</span><font></font>
        }<font></font>
    }<font></font>
});<font></font>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour remplacer un identifiant par une expression arbitraire non constante, il est nécessaire de préfixer la </font></font><code>global_defs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clé avec </font></font><code>"@"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour indiquer à UglifyJS d'analyser la valeur en tant qu'expression&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div>UglifyJS.minify(<span class="hljs-string">"alert('hello');"</span>, {
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">global_defs</span>: {
            <span class="hljs-string">"@alert"</span>: <span class="hljs-string">"console.log"</span><font></font>
        }<font></font>
    }<font></font>
}).code;<font></font>
<span class="hljs-comment">// returns: 'console.log("hello");'</span>
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sinon, il serait remplacé en tant que littéral de chaîne&nbsp;:</font></font></p>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8</div>UglifyJS.minify(<span class="hljs-string">"alert('hello');"</span>, {
    <span class="hljs-attr">compress</span>: {
        <span class="hljs-attr">global_defs</span>: {
            <span class="hljs-string">"alert"</span>: <span class="hljs-string">"console.log"</span><font></font>
        }<font></font>
    }<font></font>
}).code;<font></font>
<span class="hljs-comment">// returns: '"console.log"("hello");'</span>
</code></pre>
<div name="Using-native-Uglify-AST-with-minify()" data-unique="Using-native-Uglify-AST-with-minify()"></div><h3 id="Using-native-Uglify-AST-with-minify()"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utiliser Uglify AST natif avec</font></font><code>minify()</code></h3>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13</div><span class="hljs-comment">// example: parse only, produce native Uglify AST</span><font></font>
<font></font>
<span class="hljs-keyword">var</span> result = UglifyJS.minify(code, {
    <span class="hljs-attr">parse</span>: {},
    <span class="hljs-attr">compress</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">mangle</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">ast</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">code</span>: <span class="hljs-literal">false</span>  <span class="hljs-comment">// optional - faster if false</span><font></font>
    }<font></font>
});<font></font>
<font></font>
<span class="hljs-comment">// result.ast contains native Uglify AST</span>
</code></pre>
<pre><code class="lang-javascript"><div class="line-numbers">1
2
3
4
5
6
7
8
9
10
11
12
13
14</div><span class="hljs-comment">// example: accept native Uglify AST input and then compress and mangle</span>
<span class="hljs-comment">//          to produce both code and native AST.</span><font></font>
<font></font>
<span class="hljs-keyword">var</span> result = UglifyJS.minify(ast, {
    <span class="hljs-attr">compress</span>: {},
    <span class="hljs-attr">mangle</span>: {},
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">ast</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">code</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// optional - faster if false</span><font></font>
    }<font></font>
});<font></font>
<font></font>
<span class="hljs-comment">// result.ast contains native Uglify AST</span>
<span class="hljs-comment">// result.code contains the minified code in string form.</span>
</code></pre>
<div name="Working-with-Uglify-AST" data-unique="Working-with-Uglify-AST"></div><h3 id="Working-with-Uglify-AST" class="notranslate">Working with Uglify AST</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La transversalité et la transformation de l'AST natif peuvent être effectuées via
 </font></font><a href="https://github.com/mishoo/UglifyJS2/blob/master/lib/ast.js"><code>TreeWalker</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et
 </font></font><a href="https://github.com/mishoo/UglifyJS2/blob/master/lib/transform.js"><code>TreeTransformer</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
respectivement.</font></font></p>
<div name="ESTree-/-SpiderMonkey-AST" data-unique="ESTree-/-SpiderMonkey-AST"></div><h3 id="ESTree-/-SpiderMonkey-AST" class="notranslate">ESTree / SpiderMonkey AST</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UglifyJS a son propre format d'arborescence de syntaxe abstraite&nbsp;; pour
 </font></font><a href="http://lisperator.net/blog/uglifyjs-why-not-switching-to-spidermonkey-ast/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des raisons pratiques,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
nous ne pouvons pas facilement passer à l'utilisation de SpiderMonkey AST en interne. Cependant, UglifyJS dispose désormais d'un convertisseur qui peut importer un SpiderMonkey AST.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par exemple , </font></font><a href="https://github.com/ternjs/acorn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acorn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un analyseur ultra-rapide qui produit un SpiderMonkey AST. Il dispose d'un petit utilitaire CLI qui analyse un fichier et vide l'AST au format JSON sur la sortie standard. Pour utiliser UglifyJS pour modifier et compresser cela&nbsp;:</font></font></p>
<pre><code><div class="line-numbers">1</div>acorn file.js <span class="hljs-string">| uglifyjs -p spidermonkey -m -c</span>
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code>-p spidermonkey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option indique à UglifyJS que tous les fichiers d'entrée ne sont pas du JavaScript, mais du code JS décrit dans SpiderMonkey AST en JSON. Par conséquent, nous n'utilisons pas notre propre analyseur dans ce cas, mais transformons simplement cet AST en notre AST interne.</font></font></p>
<div name="Use-Acorn-for-parsing" data-unique="Use-Acorn-for-parsing"></div><h3 id="Use-Acorn-for-parsing" class="notranslate">Use Acorn for parsing</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus pour le plaisir, j'ai ajouté l' </font></font><code>-p acorn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option qui utilisera Acorn pour faire toute l'analyse. Si vous passez cette option, UglifyJS le fera </font></font><code>require("acorn")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acorn est très rapide (par exemple 250 ms au lieu de 380 ms sur certains codes 650K), mais la conversion de l'arbre SpiderMonkey produit par Acorn prend encore 150 ms, donc au total, c'est un peu plus que d'utiliser le propre analyseur d'UglifyJS.</font></font></p>
<div name="Uglify-Fast-Minify-Mode" data-unique="Uglify-Fast-Minify-Mode"></div><h3 id="Uglify-Fast-Minify-Mode" class="notranslate">Uglify Fast Minify Mode</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce n'est pas bien connu, mais la suppression des espaces blancs et la manipulation des symboles représentent 95&nbsp;% de la réduction de la taille du code minifié pour la plupart des JavaScript - et non des transformations de code élaborées. On peut simplement désactiver </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour accélérer les constructions Uglify de 3 à 4 fois. Dans ce rapide </font></font><code>mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- seul le mode Uglify a des vitesses de minify et des tailles de gzip comparables à
 </font></font><a href="https://www.npmjs.com/package/butternut"><code>butternut</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d3.js</font></font></th>
<th style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">réduire la taille</font></font></th>
<th style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">taille gzip</font></font></th>
<th style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minifier le temps (secondes)</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">original</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">451&nbsp;131</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">108 733</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
</tr>
<tr>
<td><a href="mailto:uglify-js@3.0.24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uglify-js@3.0.24</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mangle=faux, compresser=faux</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">316 600</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">85 245</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0,70</font></font></td>
</tr>
<tr>
<td><a href="mailto:uglify-js@3.0.24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uglify-js@3.0.24</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mangle=true, compress=false</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">220&nbsp;216</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72 730</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.13</font></font></td>
</tr>
<tr>
<td><a href="mailto:butternut@0.4.6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">butternut@0.4.6</font></font></a></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">217 568</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72 738</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.41</font></font></td>
</tr>
<tr>
<td><a href="mailto:uglify-js@3.0.24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uglify-js@3.0.24</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mangle=true, compress=true</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">212&nbsp;511</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71 560</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.36</font></font></td>
</tr>
<tr>
<td><a href="mailto:babili@0.1.4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">babili@0.1.4</font></font></a></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">210 713</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72&nbsp;140</font></font></td>
<td style="text-align:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.64</font></font></td>
</tr>
</tbody>
</table>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour activer le mode minify rapide à partir de la CLI, utilisez&nbsp;:</font></font></p>
<pre><code><div class="line-numbers">1</div>uglifyjs <span class="hljs-built_in">file</span>.js -m
</code></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour activer le mode minify rapide avec l'API, utilisez&nbsp;:</font></font></p>
<pre><code class="lang-js"><div class="line-numbers">1</div>UglifyJS.minify(code, { <span class="hljs-attr">compress</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">mangle</span>: <span class="hljs-literal">true</span> });
</code></pre>
<h4 id="Source-maps-and-debugging"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartes source et débogage</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diverses </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transformations qui simplifient, réorganisent, incorporent et suppriment le code sont connues pour avoir un effet négatif sur le débogage avec les mappages de source.Ceci est attendu car le code est optimisé et les mappages ne sont souvent tout simplement pas possibles car certains codes n'existent plus.Pour une plus grande fidélité dans la source le débogage de la carte désactive l'option Uglify </font></font><code>compress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et utilise simplement </font></font><code>mangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<div name="Compiler-assumptions" data-unique="Compiler-assumptions"></div><h3 id="Compiler-assumptions" class="notranslate">Compiler assumptions</h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour permettre de meilleures optimisations, le compilateur fait diverses hypothèses&nbsp;:</font></font></p>
<ul>
<li><code>.toString()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>.valueOf()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'ont pas d'effets secondaires, et pour les objets intégrés, ils n'ont pas été remplacés.</font></font></li>
<li><code>undefined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>NaN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>Infinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'ont pas été redéfinis en externe.</font></font></li>
<li><code>arguments.callee</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>arguments.caller</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>Function.prototype.caller</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne sont pas utilisés.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le code ne s'attend pas à ce que le contenu de </font></font><code>Function.prototype.toString()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou
 </font></font><code>Error.prototype.stack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soit quelque chose de particulier.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenir et définir des propriétés sur un objet simple ne provoque pas d'autres effets secondaires (en utilisant </font></font><code>.watch()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>Proxy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les propriétés d'objet peuvent être ajoutées, supprimées et modifiées ( non </font><font style="vertical-align: inherit;">empêchées par
 </font></font><code>Object.defineProperty()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Object.defineProperties()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Object.freeze()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou
 </font><font style="vertical-align: inherit;">).</font></font><code>Object.preventExtensions()</code><font style="vertical-align: inherit;"></font><code>Object.seal()</code><font style="vertical-align: inherit;"></font></li>
</ul>
 </div><div class="sidebar hidden-sm hidden-xs hidden-md"><div id="toc" class="tocify"></div></div></div></div><div class="footer"><div class="container"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">© Copyright 2012-2021 fibjs.org | </font></font><a href="../../../support.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soutenez-nous</font></font></a></div></div><a id="back-to-top" href="#" class="btn btn-default btn-lg back-to-top" role="button" title="" data-toggle="tooltip" data-placement="left" data-original-title="Click to return on the top page" aria-describedby="tooltip604858"><span class="glyphicon glyphicon-chevron-up"></span></a><div class="tooltip fade left in" role="tooltip" id="tooltip604858" style="top: 0px; left: -190px; display: block;"><div class="tooltip-arrow" style="top: 0%;"></div><div class="tooltip-inner"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cliquez pour revenir en haut de la page</font></font></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript" src="../../../../js/common.js"></script><script type="text/javascript" src="../../../../js/docs.js"></script></body></html>